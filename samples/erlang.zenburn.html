<pre class="athl w-full overflow-auto rounded-lg p-8 font-mono text-sm antialiased leading-6" style="color: #dcdccc; background-color: #3f3f3f;"><code class="language-erlang" translate="no" tabindex="0"><div class="line" data-line="1"><span data-highlight="comment" style="color: #7f9f7f;">% Percent sign starts a one-line comment.</span>
</div><div class="line" data-line="2">
</div><div class="line" data-line="3"><span data-highlight="comment.documentation" style="color: #7f9f7f;">%% Two percent characters shall be used to comment functions.</span>
</div><div class="line" data-line="4">
</div><div class="line" data-line="5"><span data-highlight="comment.documentation" style="color: #7f9f7f;">%%% Three percent characters shall be used to comment modules.</span>
</div><div class="line" data-line="6">
</div><div class="line" data-line="7"><span data-highlight="comment" style="color: #7f9f7f;">% We use three types of punctuation in Erlang.</span>
</div><div class="line" data-line="8"><span data-highlight="comment" style="color: #7f9f7f;">% Commas (`,`) separate arguments in function calls, data constructors, and</span>
</div><div class="line" data-line="9"><span data-highlight="comment" style="color: #7f9f7f;">% patterns.</span>
</div><div class="line" data-line="10"><span data-highlight="comment" style="color: #7f9f7f;">% Periods (`.`) (followed by whitespace) separate entire functions and</span>
</div><div class="line" data-line="11"><span data-highlight="comment" style="color: #7f9f7f;">% expressions in the shell.</span>
</div><div class="line" data-line="12"><span data-highlight="comment" style="color: #7f9f7f;">% Semicolons (`;`) separate clauses. We find clauses in several contexts:</span>
</div><div class="line" data-line="13"><span data-highlight="comment" style="color: #7f9f7f;">% function definitions and in `case`, `if`, `try..catch`, and `receive`</span>
</div><div class="line" data-line="14"><span data-highlight="comment" style="color: #7f9f7f;">% expressions.</span>
</div><div class="line" data-line="15">
</div><div class="line" data-line="16"><span data-highlight="comment.documentation" style="color: #7f9f7f;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
</div><div class="line" data-line="17"><span data-highlight="comment.documentation" style="color: #7f9f7f;">%% 1. Variables and pattern matching.</span>
</div><div class="line" data-line="18"><span data-highlight="comment.documentation" style="color: #7f9f7f;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
</div><div class="line" data-line="19">
</div><div class="line" data-line="20"><span data-highlight="comment" style="color: #7f9f7f;">% In Erlang new variables are bound with an `=` statement.</span>
</div><div class="line" data-line="21"><span data-highlight="variable" style="color: #efdcbc;">Num</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="number" style="color: #8cd0d3;">42</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>  <span data-highlight="comment" style="color: #7f9f7f;">% All variable names must start with an uppercase letter.</span>
</div><div class="line" data-line="22">
</div><div class="line" data-line="23"><span data-highlight="comment" style="color: #7f9f7f;">% Erlang has single-assignment variables; if you try to assign a different</span>
</div><div class="line" data-line="24"><span data-highlight="comment" style="color: #7f9f7f;">% value to the variable `Num`, you’ll get an error.</span>
</div><div class="line" data-line="25"><span data-highlight="variable" style="color: #efdcbc;">Num</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="number" style="color: #8cd0d3;">43</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span> <span data-highlight="comment" style="color: #7f9f7f;">% ** exception error: no match of right hand side value 43</span>
</div><div class="line" data-line="26">
</div><div class="line" data-line="27"><span data-highlight="comment" style="color: #7f9f7f;">% In most languages, `=` denotes an assignment statement. In Erlang, however,</span>
</div><div class="line" data-line="28"><span data-highlight="comment" style="color: #7f9f7f;">% `=` denotes a pattern-matching operation. When an empty variable is used on the</span>
</div><div class="line" data-line="29"><span data-highlight="comment" style="color: #7f9f7f;">% left hand side of the `=` operator to is bound (assigned), but when a bound</span>
</div><div class="line" data-line="30"><span data-highlight="comment" style="color: #7f9f7f;">% variable is used on the left hand side the following behaviour is observed.</span>
</div><div class="line" data-line="31"><span data-highlight="comment" style="color: #7f9f7f;">% `Lhs = Rhs` really means this: evaluate the right side (`Rhs`), and then</span>
</div><div class="line" data-line="32"><span data-highlight="comment" style="color: #7f9f7f;">% match the result against the pattern on the left side (`Lhs`).</span>
</div><div class="line" data-line="33"><span data-highlight="variable" style="color: #efdcbc;">Num</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="number" style="color: #8cd0d3;">7</span> * <span data-highlight="number" style="color: #8cd0d3;">6</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="34">
</div><div class="line" data-line="35"><span data-highlight="comment" style="color: #7f9f7f;">% Floating-point number.</span>
</div><div class="line" data-line="36"><span data-highlight="variable" style="color: #efdcbc;">Pi</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="number.float" style="color: #c0bed1;">3.14159</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="37">
</div><div class="line" data-line="38"><span data-highlight="comment" style="color: #7f9f7f;">% Atoms are used to represent different non-numerical constant values. Atoms</span>
</div><div class="line" data-line="39"><span data-highlight="comment" style="color: #7f9f7f;">% start with lowercase letters, followed by a sequence of alphanumeric</span>
</div><div class="line" data-line="40"><span data-highlight="comment" style="color: #7f9f7f;">% characters or the underscore (`_`) or at (`@`) sign.</span>
</div><div class="line" data-line="41"><span data-highlight="variable" style="color: #efdcbc;">Hello</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">hello</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="42"><span data-highlight="variable" style="color: #efdcbc;">OtherNode</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">example@node</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="43">
</div><div class="line" data-line="44"><span data-highlight="comment" style="color: #7f9f7f;">% Atoms with non alphanumeric values can be written by enclosing the atoms</span>
</div><div class="line" data-line="45"><span data-highlight="comment" style="color: #7f9f7f;">% with apostrophes.</span>
</div><div class="line" data-line="46"><span data-highlight="variable" style="color: #efdcbc;">AtomWithSpace</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">&#39;some atom with space&#39;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="47">
</div><div class="line" data-line="48"><span data-highlight="comment" style="color: #7f9f7f;">% Tuples are similar to structs in C.</span>
</div><div class="line" data-line="49"><span data-highlight="variable" style="color: #efdcbc;">Point</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">point</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">10</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">45</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="50">
</div><div class="line" data-line="51"><span data-highlight="comment" style="color: #7f9f7f;">% If we want to extract some values from a tuple, we use the pattern-matching</span>
</div><div class="line" data-line="52"><span data-highlight="comment" style="color: #7f9f7f;">% operator `=`.</span>
</div><div class="line" data-line="53"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">point</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">X</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">Y</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="variable" style="color: #efdcbc;">Point</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>  <span data-highlight="comment" style="color: #7f9f7f;">% X = 10, Y = 45</span>
</div><div class="line" data-line="54">
</div><div class="line" data-line="55"><span data-highlight="comment" style="color: #7f9f7f;">% We can use `_` as a placeholder for variables that we’re not interested in.</span>
</div><div class="line" data-line="56"><span data-highlight="comment" style="color: #7f9f7f;">% The symbol `_` is called an anonymous variable. Unlike regular variables,</span>
</div><div class="line" data-line="57"><span data-highlight="comment" style="color: #7f9f7f;">% several occurrences of `_` in the same pattern don’t have to bind to the</span>
</div><div class="line" data-line="58"><span data-highlight="comment" style="color: #7f9f7f;">% same value.</span>
</div><div class="line" data-line="59"><span data-highlight="variable" style="color: #efdcbc;">Person</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">person</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">name</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">first</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">joe</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">last</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">armstrong</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">footsize</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">42</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="60"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="variable" style="color: #efdcbc;">_</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="variable" style="color: #efdcbc;">_</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="variable" style="color: #efdcbc;">_</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">Who</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">_</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">_</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="variable" style="color: #efdcbc;">Person</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>  <span data-highlight="comment" style="color: #7f9f7f;">% Who = joe</span>
</div><div class="line" data-line="61">
</div><div class="line" data-line="62"><span data-highlight="comment" style="color: #7f9f7f;">% We create a list by enclosing the list elements in square brackets and</span>
</div><div class="line" data-line="63"><span data-highlight="comment" style="color: #7f9f7f;">% separating them with commas.</span>
</div><div class="line" data-line="64"><span data-highlight="comment" style="color: #7f9f7f;">% The individual elements of a list can be of any type.</span>
</div><div class="line" data-line="65"><span data-highlight="comment" style="color: #7f9f7f;">% The first element of a list is the head of the list. If you imagine removing</span>
</div><div class="line" data-line="66"><span data-highlight="comment" style="color: #7f9f7f;">% the head from the list, what’s left is called the tail of the list.</span>
</div><div class="line" data-line="67"><span data-highlight="variable" style="color: #efdcbc;">ThingsToBuy</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">apples</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">10</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">pears</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">6</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">milk</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">3</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="68">
</div><div class="line" data-line="69"><span data-highlight="comment" style="color: #7f9f7f;">% If `T` is a list, then `[H|T]` is also a list, with head `H` and tail `T`.</span>
</div><div class="line" data-line="70"><span data-highlight="comment" style="color: #7f9f7f;">% The vertical bar (`|`) separates the head of a list from its tail.</span>
</div><div class="line" data-line="71"><span data-highlight="comment" style="color: #7f9f7f;">% `[]` is the empty list.</span>
</div><div class="line" data-line="72"><span data-highlight="comment" style="color: #7f9f7f;">% We can extract elements from a list with a pattern-matching operation. If we</span>
</div><div class="line" data-line="73"><span data-highlight="comment" style="color: #7f9f7f;">% have a nonempty list `L`, then the expression `[X|Y] = L`, where `X` and `Y`</span>
</div><div class="line" data-line="74"><span data-highlight="comment" style="color: #7f9f7f;">% are unbound variables, will extract the head of the list into `X` and the tail</span>
</div><div class="line" data-line="75"><span data-highlight="comment" style="color: #7f9f7f;">% of the list into `Y`.</span>
</div><div class="line" data-line="76"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="variable" style="color: #efdcbc;">FirstThing</span><span data-highlight="operator" style="color: #f0efd0;">|</span><span data-highlight="variable" style="color: #efdcbc;">OtherThingsToBuy</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="variable" style="color: #efdcbc;">ThingsToBuy</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="77"><span data-highlight="comment" style="color: #7f9f7f;">% FirstThing = &lbrace;apples, 10&rbrace;</span>
</div><div class="line" data-line="78"><span data-highlight="comment" style="color: #7f9f7f;">% OtherThingsToBuy = [&lbrace;pears, 6&rbrace;, &lbrace;milk, 3&rbrace;]</span>
</div><div class="line" data-line="79">
</div><div class="line" data-line="80"><span data-highlight="comment" style="color: #7f9f7f;">% There are no strings in Erlang. Strings are really just lists of integers.</span>
</div><div class="line" data-line="81"><span data-highlight="comment" style="color: #7f9f7f;">% Strings are enclosed in double quotation marks (`&quot;`).</span>
</div><div class="line" data-line="82"><span data-highlight="variable" style="color: #efdcbc;">Name</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="string" style="color: #cc9393;">&quot;Hello&quot;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="83"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">72</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">101</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">108</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">108</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">111</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="string" style="color: #cc9393;">&quot;Hello&quot;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="84">
</div><div class="line" data-line="85">
</div><div class="line" data-line="86"><span data-highlight="comment.documentation" style="color: #7f9f7f;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
</div><div class="line" data-line="87"><span data-highlight="comment.documentation" style="color: #7f9f7f;">%% 2. Sequential programming.</span>
</div><div class="line" data-line="88"><span data-highlight="comment.documentation" style="color: #7f9f7f;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
</div><div class="line" data-line="89">
</div><div class="line" data-line="90"><span data-highlight="comment" style="color: #7f9f7f;">% Modules are the basic unit of code in Erlang. All the functions we write are</span>
</div><div class="line" data-line="91"><span data-highlight="comment" style="color: #7f9f7f;">% stored in modules. Modules are stored in files with `.erl` extensions.</span>
</div><div class="line" data-line="92"><span data-highlight="comment" style="color: #7f9f7f;">% Modules must be compiled before the code can be run. A compiled module has the</span>
</div><div class="line" data-line="93"><span data-highlight="comment" style="color: #7f9f7f;">% extension `.beam`.</span>
</div><div class="line" data-line="94">-<span data-highlight="function" style="color: #efef8f;">module</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">geometry</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="95">-<span data-highlight="function" style="color: #efef8f;">export</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">area</span>/<span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span> <span data-highlight="comment" style="color: #7f9f7f;">% the list of functions exported from the module.</span>
</div><div class="line" data-line="96">
</div><div class="line" data-line="97"><span data-highlight="comment" style="color: #7f9f7f;">% The function `area` consists of two clauses. The clauses are separated by a</span>
</div><div class="line" data-line="98"><span data-highlight="comment" style="color: #7f9f7f;">% semicolon, and the final clause is terminated by dot-whitespace.</span>
</div><div class="line" data-line="99"><span data-highlight="comment" style="color: #7f9f7f;">% Each clause has a head and a body; the head consists of a function name</span>
</div><div class="line" data-line="100"><span data-highlight="comment" style="color: #7f9f7f;">% followed by a pattern (in parentheses), and the body consists of a sequence of</span>
</div><div class="line" data-line="101"><span data-highlight="comment" style="color: #7f9f7f;">% expressions, which are evaluated if the pattern in the head is successfully</span>
</div><div class="line" data-line="102"><span data-highlight="comment" style="color: #7f9f7f;">% matched against the calling arguments. The patterns are matched in the order</span>
</div><div class="line" data-line="103"><span data-highlight="comment" style="color: #7f9f7f;">% they appear in the function definition.</span>
</div><div class="line" data-line="104"><span data-highlight="function" style="color: #efef8f;">area</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">rectangle</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">Width</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">Ht</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="variable" style="color: #efdcbc;">Width</span> * <span data-highlight="variable" style="color: #efdcbc;">Ht</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="105"><span data-highlight="function" style="color: #efef8f;">area</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">circle</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">R</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span>            <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="number.float" style="color: #c0bed1;">3.14159</span> * <span data-highlight="variable" style="color: #efdcbc;">R</span> * <span data-highlight="variable" style="color: #efdcbc;">R</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="106">
</div><div class="line" data-line="107"><span data-highlight="comment" style="color: #7f9f7f;">% Compile the code in the file geometry.erl.</span>
</div><div class="line" data-line="108"><span data-highlight="function" style="color: #efef8f;">c</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">geometry</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>  <span data-highlight="comment" style="color: #7f9f7f;">% &lbrace;ok,geometry&rbrace;</span>
</div><div class="line" data-line="109">
</div><div class="line" data-line="110"><span data-highlight="comment" style="color: #7f9f7f;">% We need to include the module name together with the function name in order to</span>
</div><div class="line" data-line="111"><span data-highlight="comment" style="color: #7f9f7f;">% identify exactly which function we want to call.</span>
</div><div class="line" data-line="112"><span data-highlight="function" style="color: #efef8f;"><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">geometry</span><span data-highlight="operator" style="color: #f0efd0;">:</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">area</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">rectangle</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">10</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">5</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>  <span data-highlight="comment" style="color: #7f9f7f;">% 50</span>
</div><div class="line" data-line="113"><span data-highlight="function" style="color: #efef8f;"><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">geometry</span><span data-highlight="operator" style="color: #f0efd0;">:</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">area</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">circle</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number.float" style="color: #c0bed1;">1.4</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>  <span data-highlight="comment" style="color: #7f9f7f;">% 6.15752</span>
</div><div class="line" data-line="114">
</div><div class="line" data-line="115"><span data-highlight="comment" style="color: #7f9f7f;">% In Erlang, two functions with the same name and different arity (number of</span>
</div><div class="line" data-line="116"><span data-highlight="comment" style="color: #7f9f7f;">% arguments) in the same module represent entirely different functions.</span>
</div><div class="line" data-line="117">-<span data-highlight="function" style="color: #efef8f;">module</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">lib_misc</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="118">-<span data-highlight="function" style="color: #efef8f;">export</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">sum</span>/<span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span> <span data-highlight="comment" style="color: #7f9f7f;">% export function `sum` of arity 1</span>
</div><div class="line" data-line="119">                  <span data-highlight="comment" style="color: #7f9f7f;">% accepting one argument: list of integers.</span>
</div><div class="line" data-line="120"><span data-highlight="function" style="color: #efef8f;">sum</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">L</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function" style="color: #efef8f;">sum</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">L</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">0</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="121"><span data-highlight="function" style="color: #efef8f;">sum</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">N</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span>    <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="variable" style="color: #efdcbc;">N</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="122"><span data-highlight="function" style="color: #efef8f;">sum</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="variable" style="color: #efdcbc;">H</span><span data-highlight="operator" style="color: #f0efd0;">|</span><span data-highlight="variable" style="color: #efdcbc;">T</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">N</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function" style="color: #efef8f;">sum</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">T</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">H</span><span data-highlight="operator" style="color: #f0efd0;">+</span><span data-highlight="variable" style="color: #efdcbc;">N</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="123">
</div><div class="line" data-line="124"><span data-highlight="comment" style="color: #7f9f7f;">% Funs are &quot;anonymous&quot; functions. They are called this way because they have</span>
</div><div class="line" data-line="125"><span data-highlight="comment" style="color: #7f9f7f;">% no name. However, they can be assigned to variables.</span>
</div><div class="line" data-line="126"><span data-highlight="variable" style="color: #efdcbc;">Double</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">fun</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">X</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="number" style="color: #8cd0d3;">2</span> * <span data-highlight="variable" style="color: #efdcbc;">X</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">end</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span> <span data-highlight="comment" style="color: #7f9f7f;">% `Double` points to an anonymous function</span>
</div><div class="line" data-line="127">                              <span data-highlight="comment" style="color: #7f9f7f;">% with handle: #Fun&lt;erl_eval.6.17052888&gt;</span>
</div><div class="line" data-line="128"><span data-highlight="function" style="color: #efef8f;">Double</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>  <span data-highlight="comment" style="color: #7f9f7f;">% 4</span>
</div><div class="line" data-line="129">
</div><div class="line" data-line="130"><span data-highlight="comment" style="color: #7f9f7f;">% Functions accept funs as their arguments and can return funs.</span>
</div><div class="line" data-line="131"><span data-highlight="variable" style="color: #efdcbc;">Mult</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">fun</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">Times</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">fun</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">X</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="variable" style="color: #efdcbc;">X</span> * <span data-highlight="variable" style="color: #efdcbc;">Times</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">end</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">end</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="132"><span data-highlight="variable" style="color: #efdcbc;">Triple</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function" style="color: #efef8f;">Mult</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">3</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="133"><span data-highlight="function" style="color: #efef8f;">Triple</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">5</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>  <span data-highlight="comment" style="color: #7f9f7f;">% 15</span>
</div><div class="line" data-line="134">
</div><div class="line" data-line="135"><span data-highlight="comment" style="color: #7f9f7f;">% List comprehensions are expressions that create lists without having to use</span>
</div><div class="line" data-line="136"><span data-highlight="comment" style="color: #7f9f7f;">% funs, maps, or filters.</span>
</div><div class="line" data-line="137"><span data-highlight="comment" style="color: #7f9f7f;">% The notation `[F(X) || X &lt;- L]` means &quot;the list of `F(X)` where `X` is taken</span>
</div><div class="line" data-line="138"><span data-highlight="comment" style="color: #7f9f7f;">% from the list `L`.&quot;</span>
</div><div class="line" data-line="139"><span data-highlight="variable" style="color: #efdcbc;">L</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span><span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span><span data-highlight="number" style="color: #8cd0d3;">3</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span><span data-highlight="number" style="color: #8cd0d3;">4</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span><span data-highlight="number" style="color: #8cd0d3;">5</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="140"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">2</span> * <span data-highlight="variable" style="color: #efdcbc;">X</span> || <span data-highlight="variable" style="color: #efdcbc;">X</span> &lt;- <span data-highlight="variable" style="color: #efdcbc;">L</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>  <span data-highlight="comment" style="color: #7f9f7f;">% [2,4,6,8,10]</span>
</div><div class="line" data-line="141"><span data-highlight="comment" style="color: #7f9f7f;">% A list comprehension can have generators and filters, which select subset of</span>
</div><div class="line" data-line="142"><span data-highlight="comment" style="color: #7f9f7f;">% the generated values.</span>
</div><div class="line" data-line="143"><span data-highlight="variable" style="color: #efdcbc;">EvenNumbers</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="variable" style="color: #efdcbc;">N</span> || <span data-highlight="variable" style="color: #efdcbc;">N</span> &lt;- <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">3</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">4</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">N</span> rem <span data-highlight="number" style="color: #8cd0d3;">2</span> <span data-highlight="operator" style="color: #f0efd0;">==</span> <span data-highlight="number" style="color: #8cd0d3;">0</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span> <span data-highlight="comment" style="color: #7f9f7f;">% [2, 4]</span>
</div><div class="line" data-line="144">
</div><div class="line" data-line="145"><span data-highlight="comment" style="color: #7f9f7f;">% Guards are constructs that we can use to increase the power of pattern</span>
</div><div class="line" data-line="146"><span data-highlight="comment" style="color: #7f9f7f;">% matching. Using guards, we can perform simple tests and comparisons on the</span>
</div><div class="line" data-line="147"><span data-highlight="comment" style="color: #7f9f7f;">% variables in a pattern.</span>
</div><div class="line" data-line="148"><span data-highlight="comment" style="color: #7f9f7f;">% You can use guards in the heads of function definitions where they are</span>
</div><div class="line" data-line="149"><span data-highlight="comment" style="color: #7f9f7f;">% introduced by the `when` keyword, or you can use them at any place in the</span>
</div><div class="line" data-line="150"><span data-highlight="comment" style="color: #7f9f7f;">% language where an expression is allowed.</span>
</div><div class="line" data-line="151"><span data-highlight="function" style="color: #efef8f;">max</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">X</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">Y</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">when</span> <span data-highlight="variable" style="color: #efdcbc;">X</span> <span data-highlight="operator" style="color: #f0efd0;">&gt;</span> <span data-highlight="variable" style="color: #efdcbc;">Y</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="variable" style="color: #efdcbc;">X</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="152"><span data-highlight="function" style="color: #efef8f;">max</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">X</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">Y</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="variable" style="color: #efdcbc;">Y</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="153">
</div><div class="line" data-line="154"><span data-highlight="comment" style="color: #7f9f7f;">% A guard is a series of guard expressions, separated by commas (`,`).</span>
</div><div class="line" data-line="155"><span data-highlight="comment" style="color: #7f9f7f;">% The guard `GuardExpr1, GuardExpr2, ..., GuardExprN` is true if all the guard</span>
</div><div class="line" data-line="156"><span data-highlight="comment" style="color: #7f9f7f;">% expressions `GuardExpr1`, `GuardExpr2`, ..., `GuardExprN` evaluate to `true`.</span>
</div><div class="line" data-line="157"><span data-highlight="function" style="color: #efef8f;">is_cat</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">A</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">when</span> <span data-highlight="function" style="color: #efef8f;">is_atom</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">A</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">A</span> <span data-highlight="operator" style="color: #f0efd0;">=:=</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">cat</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="boolean" style="color: #dca3a3;">true</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="158"><span data-highlight="function" style="color: #efef8f;">is_cat</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">A</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="boolean" style="color: #dca3a3;">false</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="159"><span data-highlight="function" style="color: #efef8f;">is_dog</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">A</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">when</span> <span data-highlight="function" style="color: #efef8f;">is_atom</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">A</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">A</span> <span data-highlight="operator" style="color: #f0efd0;">=:=</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">dog</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="boolean" style="color: #dca3a3;">true</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="160"><span data-highlight="function" style="color: #efef8f;">is_dog</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">A</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="boolean" style="color: #dca3a3;">false</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="161">
</div><div class="line" data-line="162"><span data-highlight="comment" style="color: #7f9f7f;">% We won&#39;t dwell on the `=:=` operator here; just be aware that it is used to</span>
</div><div class="line" data-line="163"><span data-highlight="comment" style="color: #7f9f7f;">% check whether two Erlang expressions have the same value *and* the same type.</span>
</div><div class="line" data-line="164"><span data-highlight="comment" style="color: #7f9f7f;">% Contrast this behaviour to that of the `==` operator:</span>
</div><div class="line" data-line="165"><span data-highlight="number" style="color: #8cd0d3;">1</span> <span data-highlight="operator" style="color: #f0efd0;">+</span> <span data-highlight="number" style="color: #8cd0d3;">2</span> <span data-highlight="operator" style="color: #f0efd0;">=:=</span> <span data-highlight="number" style="color: #8cd0d3;">3</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>   <span data-highlight="comment" style="color: #7f9f7f;">% true</span>
</div><div class="line" data-line="166"><span data-highlight="number" style="color: #8cd0d3;">1</span> <span data-highlight="operator" style="color: #f0efd0;">+</span> <span data-highlight="number" style="color: #8cd0d3;">2</span> <span data-highlight="operator" style="color: #f0efd0;">=:=</span> <span data-highlight="number.float" style="color: #c0bed1;">3.0</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span> <span data-highlight="comment" style="color: #7f9f7f;">% false</span>
</div><div class="line" data-line="167"><span data-highlight="number" style="color: #8cd0d3;">1</span> <span data-highlight="operator" style="color: #f0efd0;">+</span> <span data-highlight="number" style="color: #8cd0d3;">2</span> <span data-highlight="operator" style="color: #f0efd0;">==</span>  <span data-highlight="number.float" style="color: #c0bed1;">3.0</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span> <span data-highlight="comment" style="color: #7f9f7f;">% true</span>
</div><div class="line" data-line="168">
</div><div class="line" data-line="169"><span data-highlight="comment" style="color: #7f9f7f;">% A guard sequence is either a single guard or a series of guards, separated</span>
</div><div class="line" data-line="170"><span data-highlight="comment" style="color: #7f9f7f;">% by semicolons (`;`). The guard sequence `G1; G2; ...; Gn` is true if at</span>
</div><div class="line" data-line="171"><span data-highlight="comment" style="color: #7f9f7f;">% least one of the guards `G1`, `G2`, ..., `Gn` evaluates to `true`.</span>
</div><div class="line" data-line="172"><span data-highlight="function" style="color: #efef8f;">is_pet</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">A</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">when</span> <span data-highlight="function" style="color: #efef8f;">is_atom</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">A</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">A</span> <span data-highlight="operator" style="color: #f0efd0;">=:=</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">dog</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">A</span> <span data-highlight="operator" style="color: #f0efd0;">=:=</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">cat</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="boolean" style="color: #dca3a3;">true</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="173"><span data-highlight="function" style="color: #efef8f;">is_pet</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">A</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span>                                             <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="boolean" style="color: #dca3a3;">false</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="174">
</div><div class="line" data-line="175"><span data-highlight="comment" style="color: #7f9f7f;">% Warning: not all valid Erlang expressions can be used as guard expressions;</span>
</div><div class="line" data-line="176"><span data-highlight="comment" style="color: #7f9f7f;">% in particular, our `is_cat` and `is_dog` functions cannot be used within the</span>
</div><div class="line" data-line="177"><span data-highlight="comment" style="color: #7f9f7f;">% guard sequence in `is_pet`&#39;s definition. For a description of the</span>
</div><div class="line" data-line="178"><span data-highlight="comment" style="color: #7f9f7f;">% expressions allowed in guard sequences, refer to the specific section</span>
</div><div class="line" data-line="179"><span data-highlight="comment" style="color: #7f9f7f;">% in the Erlang reference manual:</span>
</div><div class="line" data-line="180"><span data-highlight="comment" style="color: #7f9f7f;">% <span data-highlight="string.special.url" style="color: #dcdccc; text-decoration: underline;">http://erlang.org/doc/reference_manual/expressions.html#guards</span></span>
</div><div class="line" data-line="181">
</div><div class="line" data-line="182">
</div><div class="line" data-line="183"><span data-highlight="comment" style="color: #7f9f7f;">% Records provide a method for associating a name with a particular element in a</span>
</div><div class="line" data-line="184"><span data-highlight="comment" style="color: #7f9f7f;">% tuple.</span>
</div><div class="line" data-line="185"><span data-highlight="comment" style="color: #7f9f7f;">% Record definitions can be included in Erlang source code files or put in files</span>
</div><div class="line" data-line="186"><span data-highlight="comment" style="color: #7f9f7f;">% with the extension `.hrl`, which are then included by Erlang source code</span>
</div><div class="line" data-line="187"><span data-highlight="comment" style="color: #7f9f7f;">% files.</span>
</div><div class="line" data-line="188">-<span data-highlight="function" style="color: #efef8f;">record</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">todo</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span>
</div><div class="line" data-line="189">  <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">status</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">reminder</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span>  <span data-highlight="comment" style="color: #7f9f7f;">% Default value</span>
</div><div class="line" data-line="190">  <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">who</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">joe</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span>
</div><div class="line" data-line="191">  <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">text</span>
</div><div class="line" data-line="192"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="193">
</div><div class="line" data-line="194"><span data-highlight="comment" style="color: #7f9f7f;">% We have to read the record definitions into the shell before we can define a</span>
</div><div class="line" data-line="195"><span data-highlight="comment" style="color: #7f9f7f;">% record. We use the shell function `rr` (short for read records) to do this.</span>
</div><div class="line" data-line="196"><span data-highlight="function" style="color: #efef8f;">rr</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="string" style="color: #cc9393;">&quot;records.hrl&quot;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>  <span data-highlight="comment" style="color: #7f9f7f;">% [todo]</span>
</div><div class="line" data-line="197">
</div><div class="line" data-line="198"><span data-highlight="comment" style="color: #7f9f7f;">% Creating and updating records:</span>
</div><div class="line" data-line="199"><span data-highlight="variable" style="color: #efdcbc;">X</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type" style="color: #dfdfbf;">#</span><span data-highlight="type" style="color: #dfdfbf;">todo</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="200"><span data-highlight="comment" style="color: #7f9f7f;">% #todo&lbrace;status = reminder, who = joe, text = undefined&rbrace;</span>
</div><div class="line" data-line="201"><span data-highlight="variable" style="color: #efdcbc;">X1</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type" style="color: #dfdfbf;">#</span><span data-highlight="type" style="color: #dfdfbf;">todo</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="variable.member" style="color: #efdcbc;">status</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">urgent</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable.member" style="color: #efdcbc;">text</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="string" style="color: #cc9393;">&quot;Fix errata in book&quot;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="202"><span data-highlight="comment" style="color: #7f9f7f;">% #todo&lbrace;status = urgent, who = joe, text = &quot;Fix errata in book&quot;&rbrace;</span>
</div><div class="line" data-line="203"><span data-highlight="variable" style="color: #efdcbc;">X2</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="variable" style="color: #efdcbc;">X1</span><span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type" style="color: #dfdfbf;">#</span><span data-highlight="type" style="color: #dfdfbf;">todo</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="variable.member" style="color: #efdcbc;">status</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">done</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="204"><span data-highlight="comment" style="color: #7f9f7f;">% #todo&lbrace;status = done, who = joe, text = &quot;Fix errata in book&quot;&rbrace;</span>
</div><div class="line" data-line="205">
</div><div class="line" data-line="206"><span data-highlight="comment" style="color: #7f9f7f;">% `case` expressions.</span>
</div><div class="line" data-line="207"><span data-highlight="comment" style="color: #7f9f7f;">% `filter` returns a list of all elements `X` in a list `L` for which `P(X)` is</span>
</div><div class="line" data-line="208"><span data-highlight="comment" style="color: #7f9f7f;">% true.</span>
</div><div class="line" data-line="209"><span data-highlight="function" style="color: #efef8f;">filter</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">P</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="variable" style="color: #efdcbc;">H</span><span data-highlight="operator" style="color: #f0efd0;">|</span><span data-highlight="variable" style="color: #efdcbc;">T</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span>
</div><div class="line" data-line="210">  <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">case</span> <span data-highlight="function" style="color: #efef8f;">P</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">H</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">of</span>
</div><div class="line" data-line="211">    <span data-highlight="boolean" style="color: #dca3a3;">true</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="variable" style="color: #efdcbc;">H</span><span data-highlight="operator" style="color: #f0efd0;">|</span><span data-highlight="function" style="color: #efef8f;">filter</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">P</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">T</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="212">    <span data-highlight="boolean" style="color: #dca3a3;">false</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function" style="color: #efef8f;">filter</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">P</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">T</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span>
</div><div class="line" data-line="213">  <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">end</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="214"><span data-highlight="function" style="color: #efef8f;">filter</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">P</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="215"><span data-highlight="function" style="color: #efef8f;">filter</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">fun</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">X</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="variable" style="color: #efdcbc;">X</span> rem <span data-highlight="number" style="color: #8cd0d3;">2</span> <span data-highlight="operator" style="color: #f0efd0;">==</span> <span data-highlight="number" style="color: #8cd0d3;">0</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">end</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">3</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">4</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span> <span data-highlight="comment" style="color: #7f9f7f;">% [2, 4]</span>
</div><div class="line" data-line="216">
</div><div class="line" data-line="217"><span data-highlight="comment" style="color: #7f9f7f;">% `if` expressions.</span>
</div><div class="line" data-line="218"><span data-highlight="function" style="color: #efef8f;">max</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">X</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">Y</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span>
</div><div class="line" data-line="219">  <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">if</span>
</div><div class="line" data-line="220">    <span data-highlight="variable" style="color: #efdcbc;">X</span> <span data-highlight="operator" style="color: #f0efd0;">&gt;</span> <span data-highlight="variable" style="color: #efdcbc;">Y</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="variable" style="color: #efdcbc;">X</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="221">    <span data-highlight="variable" style="color: #efdcbc;">X</span> <span data-highlight="operator" style="color: #f0efd0;">&lt;</span> <span data-highlight="variable" style="color: #efdcbc;">Y</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="variable" style="color: #efdcbc;">Y</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="222">    <span data-highlight="boolean" style="color: #dca3a3;">true</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">nil</span>
</div><div class="line" data-line="223">  <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">end</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="224">
</div><div class="line" data-line="225"><span data-highlight="comment" style="color: #7f9f7f;">% Warning: at least one of the guards in the `if` expression must evaluate to</span>
</div><div class="line" data-line="226"><span data-highlight="comment" style="color: #7f9f7f;">% `true`; otherwise, an exception will be raised.</span>
</div><div class="line" data-line="227">
</div><div class="line" data-line="228">
</div><div class="line" data-line="229"><span data-highlight="comment.documentation" style="color: #7f9f7f;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
</div><div class="line" data-line="230"><span data-highlight="comment.documentation" style="color: #7f9f7f;">%% 3. Exceptions.</span>
</div><div class="line" data-line="231"><span data-highlight="comment.documentation" style="color: #7f9f7f;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
</div><div class="line" data-line="232">
</div><div class="line" data-line="233"><span data-highlight="comment" style="color: #7f9f7f;">% Exceptions are raised by the system when internal errors are encountered or</span>
</div><div class="line" data-line="234"><span data-highlight="comment" style="color: #7f9f7f;">% explicitly in code by calling `throw(Exception)`, `exit(Exception)`, or</span>
</div><div class="line" data-line="235"><span data-highlight="comment" style="color: #7f9f7f;">% `erlang:error(Exception)`.</span>
</div><div class="line" data-line="236"><span data-highlight="function" style="color: #efef8f;">generate_exception</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">a</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="237"><span data-highlight="function" style="color: #efef8f;">generate_exception</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="keyword.exception" style="color: #c3bf9f; font-weight: bold;">throw</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">a</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="238"><span data-highlight="function" style="color: #efef8f;">generate_exception</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">3</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="keyword.exception" style="color: #c3bf9f; font-weight: bold;">exit</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">a</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="239"><span data-highlight="function" style="color: #efef8f;">generate_exception</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">4</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">&#39;EXIT&#39;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">a</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="240"><span data-highlight="function" style="color: #efef8f;">generate_exception</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">5</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function" style="color: #efef8f;"><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">erlang</span><span data-highlight="operator" style="color: #f0efd0;">:</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">error</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">a</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="241">
</div><div class="line" data-line="242"><span data-highlight="comment" style="color: #7f9f7f;">% Erlang has two methods of catching an exception. One is to enclose the call to</span>
</div><div class="line" data-line="243"><span data-highlight="comment" style="color: #7f9f7f;">% the function that raises the exception within a `try...catch` expression.</span>
</div><div class="line" data-line="244"><span data-highlight="function" style="color: #efef8f;">catcher</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">N</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span>
</div><div class="line" data-line="245">  <span data-highlight="keyword.exception" style="color: #c3bf9f; font-weight: bold;">try</span> <span data-highlight="function" style="color: #efef8f;">generate_exception</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">N</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">of</span>
</div><div class="line" data-line="246">    <span data-highlight="variable" style="color: #efdcbc;">Val</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="variable" style="color: #efdcbc;">N</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">normal</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">Val</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span>
</div><div class="line" data-line="247">  <span data-highlight="keyword.exception" style="color: #c3bf9f; font-weight: bold;">catch</span>
</div><div class="line" data-line="248">    <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">throw</span><span data-highlight="operator" style="color: #f0efd0;">:</span><span data-highlight="variable" style="color: #efdcbc;">X</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="variable" style="color: #efdcbc;">N</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">caught</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">thrown</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">X</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="249">    <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">exit</span><span data-highlight="operator" style="color: #f0efd0;">:</span><span data-highlight="variable" style="color: #efdcbc;">X</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="variable" style="color: #efdcbc;">N</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">caught</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">exited</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">X</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="250">    <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">error</span><span data-highlight="operator" style="color: #f0efd0;">:</span><span data-highlight="variable" style="color: #efdcbc;">X</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="variable" style="color: #efdcbc;">N</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">caught</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">error</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">X</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span>
</div><div class="line" data-line="251">  <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">end</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="252">
</div><div class="line" data-line="253"><span data-highlight="comment" style="color: #7f9f7f;">% The other is to enclose the call in a `catch` expression. When you catch an</span>
</div><div class="line" data-line="254"><span data-highlight="comment" style="color: #7f9f7f;">% exception, it is converted into a tuple that describes the error.</span>
</div><div class="line" data-line="255"><span data-highlight="function" style="color: #efef8f;">catcher</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">N</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="keyword.exception" style="color: #c3bf9f; font-weight: bold;">catch</span> <span data-highlight="function" style="color: #efef8f;">generate_exception</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">N</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="256">
</div><div class="line" data-line="257">
</div><div class="line" data-line="258"><span data-highlight="comment.documentation" style="color: #7f9f7f;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
</div><div class="line" data-line="259"><span data-highlight="comment.documentation" style="color: #7f9f7f;">%% 4. Concurrency</span>
</div><div class="line" data-line="260"><span data-highlight="comment.documentation" style="color: #7f9f7f;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
</div><div class="line" data-line="261">
</div><div class="line" data-line="262"><span data-highlight="comment" style="color: #7f9f7f;">% Erlang relies on the actor model for concurrency. All we need to write</span>
</div><div class="line" data-line="263"><span data-highlight="comment" style="color: #7f9f7f;">% concurrent programs in Erlang are three primitives: spawning processes,</span>
</div><div class="line" data-line="264"><span data-highlight="comment" style="color: #7f9f7f;">% sending messages and receiving messages.</span>
</div><div class="line" data-line="265">
</div><div class="line" data-line="266"><span data-highlight="comment" style="color: #7f9f7f;">% To start a new process, we use the `spawn` function, which takes a function</span>
</div><div class="line" data-line="267"><span data-highlight="comment" style="color: #7f9f7f;">% as argument.</span>
</div><div class="line" data-line="268">
</div><div class="line" data-line="269"><span data-highlight="variable" style="color: #efdcbc;">F</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">fun</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="number" style="color: #8cd0d3;">2</span> <span data-highlight="operator" style="color: #f0efd0;">+</span> <span data-highlight="number" style="color: #8cd0d3;">2</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">end</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span> <span data-highlight="comment" style="color: #7f9f7f;">% #Fun&lt;erl_eval.20.67289768&gt;</span>
</div><div class="line" data-line="270"><span data-highlight="function" style="color: #efef8f;">spawn</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">F</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span> <span data-highlight="comment" style="color: #7f9f7f;">% &lt;0.44.0&gt;</span>
</div><div class="line" data-line="271">
</div><div class="line" data-line="272"><span data-highlight="comment" style="color: #7f9f7f;">% `spawn` returns a pid (process identifier); you can use this pid to send</span>
</div><div class="line" data-line="273"><span data-highlight="comment" style="color: #7f9f7f;">% messages to the process. To do message passing, we use the `!` operator.</span>
</div><div class="line" data-line="274"><span data-highlight="comment" style="color: #7f9f7f;">% For all of this to be useful, we need to be able to receive messages. This is</span>
</div><div class="line" data-line="275"><span data-highlight="comment" style="color: #7f9f7f;">% achieved with the `receive` mechanism:</span>
</div><div class="line" data-line="276">
</div><div class="line" data-line="277">-<span data-highlight="function" style="color: #efef8f;">module</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">calculateGeometry</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="278">-<span data-highlight="function" style="color: #efef8f;">compile</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">export_all</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="279"><span data-highlight="function" style="color: #efef8f;">calculateArea</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span>
</div><div class="line" data-line="280">    <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">receive</span>
</div><div class="line" data-line="281">      <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">rectangle</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">W</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">H</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span>
</div><div class="line" data-line="282">        <span data-highlight="variable" style="color: #efdcbc;">W</span> * <span data-highlight="variable" style="color: #efdcbc;">H</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="283">      <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">circle</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="variable" style="color: #efdcbc;">R</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span>
</div><div class="line" data-line="284">        <span data-highlight="number.float" style="color: #c0bed1;">3.14</span> * <span data-highlight="variable" style="color: #efdcbc;">R</span> * <span data-highlight="variable" style="color: #efdcbc;">R</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="285">      <span data-highlight="variable" style="color: #efdcbc;">_</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span>
</div><div class="line" data-line="286">        <span data-highlight="function" style="color: #efef8f;"><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">io</span><span data-highlight="operator" style="color: #f0efd0;">:</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">format</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="string" style="color: #cc9393;">&quot;We can only calculate area of rectangles or circles.&quot;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span>
</div><div class="line" data-line="287">    <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">end</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="288">
</div><div class="line" data-line="289"><span data-highlight="comment" style="color: #7f9f7f;">% Compile the module and create a process that evaluates `calculateArea` in the</span>
</div><div class="line" data-line="290"><span data-highlight="comment" style="color: #7f9f7f;">% shell.</span>
</div><div class="line" data-line="291"><span data-highlight="function" style="color: #efef8f;">c</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">calculateGeometry</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="292"><span data-highlight="variable" style="color: #efdcbc;">CalculateArea</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function" style="color: #efef8f;">spawn</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">calculateGeometry</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">calculateArea</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="293"><span data-highlight="variable" style="color: #efdcbc;">CalculateArea</span> <span data-highlight="operator" style="color: #f0efd0;">!</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">circle</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span> <span data-highlight="comment" style="color: #7f9f7f;">% 12.56000000000000049738</span>
</div><div class="line" data-line="294">
</div><div class="line" data-line="295"><span data-highlight="comment" style="color: #7f9f7f;">% The shell is also a process; you can use `self` to get the current pid.</span>
</div><div class="line" data-line="296"><span data-highlight="function" style="color: #efef8f;">self</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span> <span data-highlight="comment" style="color: #7f9f7f;">% &lt;0.41.0&gt;</span>
</div><div class="line" data-line="297">
</div><div class="line" data-line="298"><span data-highlight="comment.documentation" style="color: #7f9f7f;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
</div><div class="line" data-line="299"><span data-highlight="comment.documentation" style="color: #7f9f7f;">%% 5. Testing with EUnit</span>
</div><div class="line" data-line="300"><span data-highlight="comment.documentation" style="color: #7f9f7f;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
</div><div class="line" data-line="301">
</div><div class="line" data-line="302"><span data-highlight="comment" style="color: #7f9f7f;">% Unit tests can be written using EUnits&#39;s test generators and assert macros</span>
</div><div class="line" data-line="303">-<span data-highlight="function" style="color: #efef8f;">module</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">fib</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="304">-<span data-highlight="function" style="color: #efef8f;">export</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">fib</span>/<span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="305">-<span data-highlight="function" style="color: #efef8f;">include_lib</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="string" style="color: #cc9393;">&quot;eunit/include/eunit.hrl&quot;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="306">
</div><div class="line" data-line="307"><span data-highlight="function" style="color: #efef8f;">fib</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">0</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="308"><span data-highlight="function" style="color: #efef8f;">fib</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="309"><span data-highlight="function" style="color: #efef8f;">fib</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">N</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">when</span> <span data-highlight="variable" style="color: #efdcbc;">N</span> <span data-highlight="operator" style="color: #f0efd0;">&gt;</span> <span data-highlight="number" style="color: #8cd0d3;">1</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function" style="color: #efef8f;">fib</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">N</span>-<span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">+</span> <span data-highlight="function" style="color: #efef8f;">fib</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">N</span>-<span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="310">
</div><div class="line" data-line="311"><span data-highlight="function" style="color: #efef8f;">fib_test_</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span>
</div><div class="line" data-line="312">    <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="constant.macro" style="color: #ffcfaf; font-weight: bold;">?<span data-highlight="variable" style="color: #efdcbc;">_assert</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="function" style="color: #efef8f;">fib</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">0</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">=:=</span> <span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span>
</div><div class="line" data-line="313">     <span data-highlight="constant.macro" style="color: #ffcfaf; font-weight: bold;">?<span data-highlight="variable" style="color: #efdcbc;">_assert</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="function" style="color: #efef8f;">fib</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">=:=</span> <span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span>
</div><div class="line" data-line="314">     <span data-highlight="constant.macro" style="color: #ffcfaf; font-weight: bold;">?<span data-highlight="variable" style="color: #efdcbc;">_assert</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="function" style="color: #efef8f;">fib</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">=:=</span> <span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span>
</div><div class="line" data-line="315">     <span data-highlight="constant.macro" style="color: #ffcfaf; font-weight: bold;">?<span data-highlight="variable" style="color: #efdcbc;">_assert</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="function" style="color: #efef8f;">fib</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">3</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">=:=</span> <span data-highlight="number" style="color: #8cd0d3;">3</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span>
</div><div class="line" data-line="316">     <span data-highlight="constant.macro" style="color: #ffcfaf; font-weight: bold;">?<span data-highlight="variable" style="color: #efdcbc;">_assert</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="function" style="color: #efef8f;">fib</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">4</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">=:=</span> <span data-highlight="number" style="color: #8cd0d3;">5</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span>
</div><div class="line" data-line="317">     <span data-highlight="constant.macro" style="color: #ffcfaf; font-weight: bold;">?<span data-highlight="variable" style="color: #efdcbc;">_assert</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="function" style="color: #efef8f;">fib</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">5</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">=:=</span> <span data-highlight="number" style="color: #8cd0d3;">8</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span>
</div><div class="line" data-line="318">     <span data-highlight="constant.macro" style="color: #ffcfaf; font-weight: bold;">?<span data-highlight="variable" style="color: #efdcbc;">_assertException</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">error</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">function_clause</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="function" style="color: #efef8f;">fib</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span>-<span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span>
</div><div class="line" data-line="319">     <span data-highlight="constant.macro" style="color: #ffcfaf; font-weight: bold;">?<span data-highlight="variable" style="color: #efdcbc;">_assert</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="function" style="color: #efef8f;">fib</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">31</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">=:=</span> <span data-highlight="number" style="color: #8cd0d3;">2178309</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span>
</div><div class="line" data-line="320">    <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>
</div><div class="line" data-line="321">
</div><div class="line" data-line="322"><span data-highlight="comment" style="color: #7f9f7f;">% EUnit will automatically export to a test() function to allow running the tests</span>
</div><div class="line" data-line="323"><span data-highlight="comment" style="color: #7f9f7f;">% in the erlang shell</span>
</div><div class="line" data-line="324"><span data-highlight="function" style="color: #efef8f;"><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">fib</span><span data-highlight="operator" style="color: #f0efd0;">:</span><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">test</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span>
</div></code></pre>