<pre class="athl w-full overflow-auto rounded-lg p-8 font-mono text-sm antialiased leading-6" style="color: #dcdccc; background-color: #3f3f3f;"><code class="language-f#" translate="no" tabindex="0"><div class="line" data-line="1"><span data-highlight="comment" style="color: #7f9f7f;">// single line comments use a double slash</span>
</div><div class="line" data-line="2"><span data-highlight="comment" style="color: #7f9f7f;">(* multi line comments use (* . . . *) pair</span>
</div><div class="line" data-line="3"><span data-highlight="comment" style="color: #7f9f7f;"></span>
</div><div class="line" data-line="4"><span data-highlight="comment" style="color: #7f9f7f;">-end of multi line comment- *)</span>
</div><div class="line" data-line="5">
</div><div class="line" data-line="6"><span data-highlight="comment" style="color: #7f9f7f;">// ================================================</span>
</div><div class="line" data-line="7"><span data-highlight="comment" style="color: #7f9f7f;">// Basic Syntax</span>
</div><div class="line" data-line="8"><span data-highlight="comment" style="color: #7f9f7f;">// ================================================</span>
</div><div class="line" data-line="9">
</div><div class="line" data-line="10"><span data-highlight="comment" style="color: #7f9f7f;">// ------ &quot;Variables&quot; (but not really) ------</span>
</div><div class="line" data-line="11"><span data-highlight="comment" style="color: #7f9f7f;">// The &quot;let&quot; keyword defines an (immutable) value</span>
</div><div class="line" data-line="12"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">myInt</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="number" style="color: #8cd0d3;">5</span>
</div><div class="line" data-line="13"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">myFloat</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="number.float" style="color: #c0bed1;">3.14</span>
</div><div class="line" data-line="14"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">myString</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="string" style="color: #cc9393;">&quot;hello&quot;</span>           <span data-highlight="comment" style="color: #7f9f7f;">// note that no types needed</span>
</div><div class="line" data-line="15">
</div><div class="line" data-line="16"><span data-highlight="comment" style="color: #7f9f7f;">// Mutable variables</span>
</div><div class="line" data-line="17"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="keyword.modifier" style="color: #f0dfaf; font-weight: bold;">mutable</span> <span data-highlight="variable" style="color: #efdcbc;">a</span><span data-highlight="operator" style="color: #f0efd0;">=</span><span data-highlight="number" style="color: #8cd0d3;">3</span>
</div><div class="line" data-line="18">a <span data-highlight="operator" style="color: #f0efd0;">&lt;-</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="number" style="color: #8cd0d3;">4</span></span></span> <span data-highlight="variable" style="color: #efdcbc;">// a is now 4.</span>
</div><div class="line" data-line="19">
</div><div class="line" data-line="20"><span data-highlight="comment" style="color: #7f9f7f;">// Somewhat mutable variables</span>
</div><div class="line" data-line="21"><span data-highlight="comment" style="color: #7f9f7f;">// Reference cells are storage locations that enable you to create mutable values with reference semantics.</span>
</div><div class="line" data-line="22"><span data-highlight="comment" style="color: #7f9f7f;">// See <span data-highlight="string.special.url" style="color: #dcdccc; text-decoration: underline;">https://learn.microsoft.com/en-us/dotnet/fsharp/language-reference/reference-cells</span></span>
</div><div class="line" data-line="23"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">xRef</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">ref</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">10</span></span>
</div><div class="line" data-line="24"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;%d&quot;</span></span></span> <span data-highlight="variable" style="color: #efdcbc;">xRef<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Value</span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">// 10</span>
</div><div class="line" data-line="25">xRef<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Value <span data-highlight="operator" style="color: #f0efd0;">&lt;-</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="number" style="color: #8cd0d3;">11</span></span></span></span></span></span>
</div><div class="line" data-line="26"><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="variable" style="color: #efdcbc;">printfn</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;%d&quot;</span></span></span> <span data-highlight="variable" style="color: #efdcbc;">xRef<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Value</span></span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">// 11</span>
</div><div class="line" data-line="27">
</div><div class="line" data-line="28"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">a</span><span data-highlight="operator" style="color: #f0efd0;">=</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="function.call" style="color: #efef8f;">ref</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">0</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="function.call" style="color: #efef8f;">ref</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">1</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span> <span data-highlight="comment" style="color: #7f9f7f;">// somewhat mutable list</span>
</div><div class="line" data-line="29"><span data-highlight="function.call" style="color: #efef8f;">a</span><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="variable.member" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">0</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Value</span> <span data-highlight="operator" style="color: #f0efd0;">&lt;-</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="number" style="color: #8cd0d3;">2</span></span></span>
</div><div class="line" data-line="30">
</div><div class="line" data-line="31"><span data-highlight="variable" style="color: #efdcbc;">// ------ Lists ------</span>
</div><div class="line" data-line="32"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">twoToFive</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">3</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">4</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">5</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span>     <span data-highlight="comment" style="color: #7f9f7f;">// Square brackets create a list with</span>
</div><div class="line" data-line="33">                                 <span data-highlight="comment" style="color: #7f9f7f;">// semicolon delimiters.</span>
</div><div class="line" data-line="34"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">oneToFive</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="number" style="color: #8cd0d3;">1</span> <span data-highlight="operator" style="color: #f0efd0;">::</span> twoToFive   <span data-highlight="comment" style="color: #7f9f7f;">// :: creates list with new 1st element</span>
</div><div class="line" data-line="35"><span data-highlight="comment" style="color: #7f9f7f;">// The result is [1; 2; 3; 4; 5]</span>
</div><div class="line" data-line="36"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">zeroToFive</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">0</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span> <span data-highlight="operator" style="color: #f0efd0;">@</span> twoToFive   <span data-highlight="comment" style="color: #7f9f7f;">// @ concats two lists</span>
</div><div class="line" data-line="37">
</div><div class="line" data-line="38"><span data-highlight="comment" style="color: #7f9f7f;">// IMPORTANT: commas are never used as delimiters, only semicolons!</span>
</div><div class="line" data-line="39">
</div><div class="line" data-line="40"><span data-highlight="comment" style="color: #7f9f7f;">// ------ Functions ------</span>
</div><div class="line" data-line="41"><span data-highlight="comment" style="color: #7f9f7f;">// The &quot;let&quot; keyword also defines a named function.</span>
</div><div class="line" data-line="42"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">square</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">x</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> x <span data-highlight="operator" style="color: #f0efd0;">*</span> x          <span data-highlight="comment" style="color: #7f9f7f;">// Note that no parens are used.</span>
</div><div class="line" data-line="43"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">square <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">3</span></span></span></span></span>                      <span data-highlight="variable" style="color: #efdcbc;">// Now run the function. Again, no parens.</span>
</div><div class="line" data-line="44">
</div><div class="line" data-line="45"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">add</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">x</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">y</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> x <span data-highlight="operator" style="color: #f0efd0;">+</span> y           <span data-highlight="comment" style="color: #7f9f7f;">// don&#39;t use add (x,y)! It means something</span>
</div><div class="line" data-line="46">                              <span data-highlight="comment" style="color: #7f9f7f;">// completely different.</span>
</div><div class="line" data-line="47"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">add <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">2</span></span></span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">3</span></span></span></span></span></span>                       <span data-highlight="variable" style="color: #efdcbc;">// Now run the function.</span>
</div><div class="line" data-line="48">
</div><div class="line" data-line="49"><span data-highlight="comment" style="color: #7f9f7f;">// to define a multiline function, just use indents. No semicolons needed.</span>
</div><div class="line" data-line="50"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">evens</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">list</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="51">   <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">isEven</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">x</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> x <span data-highlight="operator" style="color: #f0efd0;">%</span> <span data-highlight="number" style="color: #8cd0d3;">2</span> <span data-highlight="operator" style="color: #f0efd0;"><span data-highlight="operator" style="color: #f0efd0;">=</span></span> <span data-highlight="number" style="color: #8cd0d3;">0</span>   <span data-highlight="comment" style="color: #7f9f7f;">// Define &quot;isEven&quot; as a sub function. Note</span>
</div><div class="line" data-line="52">                              <span data-highlight="comment" style="color: #7f9f7f;">// that equality operator is single char &quot;=&quot;.</span>
</div><div class="line" data-line="53">   <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>filter <span data-highlight="variable" style="color: #efdcbc;">isEven</span></span></span> <span data-highlight="variable" style="color: #efdcbc;">list</span>    <span data-highlight="comment" style="color: #7f9f7f;">// List.filter is a library function</span>
</div><div class="line" data-line="54">                              <span data-highlight="comment" style="color: #7f9f7f;">// with two parameters: a boolean function</span>
</div><div class="line" data-line="55">                              <span data-highlight="comment" style="color: #7f9f7f;">// and a list to work on</span>
</div><div class="line" data-line="56">
</div><div class="line" data-line="57"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">evens <span data-highlight="variable" style="color: #efdcbc;">oneToFive</span></span></span>               <span data-highlight="variable" style="color: #efdcbc;">// Now run the function</span>
</div><div class="line" data-line="58">
</div><div class="line" data-line="59"><span data-highlight="comment" style="color: #7f9f7f;">// You can use parens to clarify precedence. In this example,</span>
</div><div class="line" data-line="60"><span data-highlight="comment" style="color: #7f9f7f;">// do &quot;map&quot; first, with two args, then do &quot;sum&quot; on the result.</span>
</div><div class="line" data-line="61"><span data-highlight="comment" style="color: #7f9f7f;">// Without the parens, &quot;List.map&quot; would be passed as an arg to List.sum</span>
</div><div class="line" data-line="62"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">sumOfSquaresTo100</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="63">   <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>sum</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>map <span data-highlight="variable" style="color: #efdcbc;">square</span></span></span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="operator" style="color: #f0efd0;">..</span><span data-highlight="number" style="color: #8cd0d3;">100</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span>
</div><div class="line" data-line="64">
</div><div class="line" data-line="65"><span data-highlight="comment" style="color: #7f9f7f;">// You can pipe the output of one operation to the next using &quot;|&gt;&quot;</span>
</div><div class="line" data-line="66"><span data-highlight="comment" style="color: #7f9f7f;">// Piping data around is very common in F#, similar to UNIX pipes.</span>
</div><div class="line" data-line="67">
</div><div class="line" data-line="68"><span data-highlight="comment" style="color: #7f9f7f;">// Here is the same sumOfSquares function written using pipes</span>
</div><div class="line" data-line="69"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">sumOfSquaresTo100piped</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="70">   <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="operator" style="color: #f0efd0;">..</span><span data-highlight="number" style="color: #8cd0d3;">100</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span> <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>map</span> <span data-highlight="variable" style="color: #efdcbc;">square</span> <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>sum  <span data-highlight="comment" style="color: #7f9f7f;">// &quot;square&quot; was defined earlier</span>
</div><div class="line" data-line="71">
</div><div class="line" data-line="72"><span data-highlight="comment" style="color: #7f9f7f;">// you can define lambdas (anonymous functions) using the &quot;fun&quot; keyword</span>
</div><div class="line" data-line="73"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">sumOfSquaresTo100withFun</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="74">   <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="operator" style="color: #f0efd0;">..</span><span data-highlight="number" style="color: #8cd0d3;">100</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span> <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>map</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">fun</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">x</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> x <span data-highlight="operator" style="color: #f0efd0;">*</span> x<span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span> <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>sum
</div><div class="line" data-line="75">
</div><div class="line" data-line="76"><span data-highlight="comment" style="color: #7f9f7f;">// In F# there is no &quot;return&quot; keyword. A function always</span>
</div><div class="line" data-line="77"><span data-highlight="comment" style="color: #7f9f7f;">// returns the value of the last expression used.</span>
</div><div class="line" data-line="78">
</div><div class="line" data-line="79"><span data-highlight="comment" style="color: #7f9f7f;">// ------ Pattern Matching ------</span>
</div><div class="line" data-line="80"><span data-highlight="comment" style="color: #7f9f7f;">// Match..with.. is a supercharged case/switch statement.</span>
</div><div class="line" data-line="81"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">simplePatternMatch</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="82">   <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">x</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="string" style="color: #cc9393;">&quot;a&quot;</span>
</div><div class="line" data-line="83">   <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">match</span> x <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">with</span>
</div><div class="line" data-line="84">    <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="string" style="color: #cc9393;">&quot;a&quot;</span></span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;">printfn</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;x is a&quot;</span></span>
</div><div class="line" data-line="85">    <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="string" style="color: #cc9393;">&quot;b&quot;</span></span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;">printfn</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;x is b&quot;</span></span>
</div><div class="line" data-line="86">    <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="character.special" style="color: #dca3a3; font-weight: bold;">_</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;">printfn</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;x is something else&quot;</span></span>   <span data-highlight="comment" style="color: #7f9f7f;">// underscore matches anything</span>
</div><div class="line" data-line="87">
</div><div class="line" data-line="88"><span data-highlight="comment" style="color: #7f9f7f;">// F# doesn&#39;t allow nulls by default -- you must use an Option type</span>
</div><div class="line" data-line="89"><span data-highlight="comment" style="color: #7f9f7f;">// and then pattern match.</span>
</div><div class="line" data-line="90"><span data-highlight="comment" style="color: #7f9f7f;">// Some(..) and None are roughly analogous to Nullable wrappers</span>
</div><div class="line" data-line="91"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">validValue</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">Some</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">99</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span>
</div><div class="line" data-line="92"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">invalidValue</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> None
</div><div class="line" data-line="93">
</div><div class="line" data-line="94"><span data-highlight="comment" style="color: #7f9f7f;">// In this example, match..with matches the &quot;Some&quot; and the &quot;None&quot;,</span>
</div><div class="line" data-line="95"><span data-highlight="comment" style="color: #7f9f7f;">// and also unpacks the value in the &quot;Some&quot; at the same time.</span>
</div><div class="line" data-line="96"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">optionPatternMatch</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">input</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="97">   <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">match</span> input <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">with</span>
</div><div class="line" data-line="98">    <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Some</span> <span data-highlight="variable" style="color: #efdcbc;">i</span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;input is an int=%d&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">i</span>
</div><div class="line" data-line="99">    <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">None</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;">printfn</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;input is missing&quot;</span></span>
</div><div class="line" data-line="100">
</div><div class="line" data-line="101"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">optionPatternMatch <span data-highlight="variable" style="color: #efdcbc;">validValue</span></span></span></span></span></span></span></span></span></span></span></span></span>
</div><div class="line" data-line="102"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="variable" style="color: #efdcbc;">optionPatternMatch</span> <span data-highlight="variable" style="color: #efdcbc;">invalidValue</span></span></span></span></span></span></span></span></span></span></span></span></span>
</div><div class="line" data-line="103"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"></span></span></span></span></span></span></span></span></span></span></span></span>
</div><div class="line" data-line="104"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="variable" style="color: #efdcbc;">// ------ Printing ------</span></span></span></span></span></span></span></span></span></span></span></span></span>
</div><div class="line" data-line="105"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="comment" style="color: #7f9f7f;">// The printf/printfn functions are similar to the</span></span></span></span></span></span></span></span></span></span></span></span></span>
</div><div class="line" data-line="106"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="comment" style="color: #7f9f7f;">// Console.Write/WriteLine functions in C#.</span></span></span></span></span></span></span></span></span></span></span></span></span>
</div><div class="line" data-line="107"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;Printing an int %i, a float %f, a bool %b&quot;</span></span></span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">1</span></span></span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number.float" style="color: #c0bed1;">2.0</span></span></span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="boolean" style="color: #dca3a3;">true</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
</div><div class="line" data-line="108"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="variable" style="color: #efdcbc;">printfn</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;A string %s, and something generic %A&quot;</span></span></span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;hello&quot;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">3</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">4</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span>
</div><div class="line" data-line="109">
</div><div class="line" data-line="110"><span data-highlight="comment" style="color: #7f9f7f;">// There are also sprintf/sprintfn functions for formatting data</span>
</div><div class="line" data-line="111"><span data-highlight="comment" style="color: #7f9f7f;">// into a string, similar to String.Format in C#.</span>
</div><div class="line" data-line="112">
</div><div class="line" data-line="113"><span data-highlight="comment" style="color: #7f9f7f;">// ================================================</span>
</div><div class="line" data-line="114"><span data-highlight="comment" style="color: #7f9f7f;">// More on functions</span>
</div><div class="line" data-line="115"><span data-highlight="comment" style="color: #7f9f7f;">// ================================================</span>
</div><div class="line" data-line="116">
</div><div class="line" data-line="117"><span data-highlight="comment" style="color: #7f9f7f;">// F# is a true functional language -- functions are first</span>
</div><div class="line" data-line="118"><span data-highlight="comment" style="color: #7f9f7f;">// class entities and can be combined easily to make powerful</span>
</div><div class="line" data-line="119"><span data-highlight="comment" style="color: #7f9f7f;">// constructs</span>
</div><div class="line" data-line="120">
</div><div class="line" data-line="121"><span data-highlight="comment" style="color: #7f9f7f;">// Modules are used to group functions together</span>
</div><div class="line" data-line="122"><span data-highlight="comment" style="color: #7f9f7f;">// Indentation is needed for each nested module.</span>
</div><div class="line" data-line="123"><span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">module</span> <span data-highlight="module" style="color: #efdcbc;">FunctionExamples</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="124">
</div><div class="line" data-line="125">    <span data-highlight="comment" style="color: #7f9f7f;">// define a simple adding function</span>
</div><div class="line" data-line="126">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">add</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">x</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">y</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> x <span data-highlight="operator" style="color: #f0efd0;">+</span> y<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="127">
</div><div class="line" data-line="128">    <span data-highlight="comment" style="color: #7f9f7f;">// basic usage of a function</span>
</div><div class="line" data-line="129">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">a</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">add <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">1</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">2</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="130">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;1 + 2 = %i&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">a</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="131">
</div><div class="line" data-line="132">    <span data-highlight="comment" style="color: #7f9f7f;">// partial application to &quot;bake in&quot; parameters</span>
</div><div class="line" data-line="133">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">add42</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">add</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">42</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="134">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">b</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">add42</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">1</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="135">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;42 + 1 = %i&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">b</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="136">
</div><div class="line" data-line="137">    <span data-highlight="comment" style="color: #7f9f7f;">// composition to combine functions</span>
</div><div class="line" data-line="138">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">add1</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">add</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">1</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="139">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">add2</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">add</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">2</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="140">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">add3</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> add1 <span data-highlight="operator" style="color: #f0efd0;">&gt;&gt;</span> add2<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="141">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">c</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">add3</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">7</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="142">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;3 + 7 = %i&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">c</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="143">
</div><div class="line" data-line="144">    <span data-highlight="comment" style="color: #7f9f7f;">// higher order functions</span>
</div><div class="line" data-line="145">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="operator" style="color: #f0efd0;">..</span><span data-highlight="number" style="color: #8cd0d3;">10</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span> <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>map <span data-highlight="variable" style="color: #efdcbc;">add3</span> <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> printfn</span></span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;new list is %A&quot;</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="146">
</div><div class="line" data-line="147">    <span data-highlight="comment" style="color: #7f9f7f;">// lists of functions, and more</span>
</div><div class="line" data-line="148">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">add6</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span>add1<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> add2<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> add3<span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span> <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>reduce</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="operator" style="color: #f0efd0;">(&gt;&gt;)</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="149">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">d</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">add6</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">7</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="150">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;1 + 2 + 3 + 7 = %i&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">d</span>
</div><div class="line" data-line="151">
</div><div class="line" data-line="152"><span data-highlight="comment" style="color: #7f9f7f;">// ================================================</span>
</div><div class="line" data-line="153"><span data-highlight="comment" style="color: #7f9f7f;">// Lists and collection</span>
</div><div class="line" data-line="154"><span data-highlight="comment" style="color: #7f9f7f;">// ================================================</span>
</div><div class="line" data-line="155">
</div><div class="line" data-line="156"><span data-highlight="comment" style="color: #7f9f7f;">// There are three types of ordered collection:</span>
</div><div class="line" data-line="157"><span data-highlight="comment" style="color: #7f9f7f;">// * Lists are most basic immutable collection.</span>
</div><div class="line" data-line="158"><span data-highlight="comment" style="color: #7f9f7f;">// * Arrays are mutable and more efficient when needed.</span>
</div><div class="line" data-line="159"><span data-highlight="comment" style="color: #7f9f7f;">// * Sequences are lazy and infinite (e.g. an enumerator).</span>
</div><div class="line" data-line="160"><span data-highlight="comment" style="color: #7f9f7f;">//</span>
</div><div class="line" data-line="161"><span data-highlight="comment" style="color: #7f9f7f;">// Other collections include immutable maps and sets</span>
</div><div class="line" data-line="162"><span data-highlight="comment" style="color: #7f9f7f;">// plus all the standard .NET collections</span>
</div><div class="line" data-line="163">
</div><div class="line" data-line="164"><span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">module</span> <span data-highlight="module" style="color: #efdcbc;">ListExamples</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="165">
</div><div class="line" data-line="166">    <span data-highlight="comment" style="color: #7f9f7f;">// lists use square brackets</span>
</div><div class="line" data-line="167">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">list1</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="string" style="color: #cc9393;">&quot;a&quot;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="string" style="color: #cc9393;">&quot;b&quot;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="168">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">list2</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="string" style="color: #cc9393;">&quot;c&quot;</span> <span data-highlight="operator" style="color: #f0efd0;">::</span> list1<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>    <span data-highlight="comment" style="color: #7f9f7f;">// :: is prepending</span>
</div><div class="line" data-line="169">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">list3</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> list1 <span data-highlight="operator" style="color: #f0efd0;">@</span> list2<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>   <span data-highlight="comment" style="color: #7f9f7f;">// @ is concat</span>
</div><div class="line" data-line="170">
</div><div class="line" data-line="171">    <span data-highlight="comment" style="color: #7f9f7f;">// list comprehensions (aka generators)</span>
</div><div class="line" data-line="172">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">squares</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="keyword.repeat" style="color: #ffd7a7; font-weight: bold;">for</span> i <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">in</span> <span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="operator" style="color: #f0efd0;">..</span><span data-highlight="number" style="color: #8cd0d3;">10</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">do</span> <span data-highlight="keyword.return" style="color: #f0dfaf; font-weight: bold;">yield</span> i <span data-highlight="operator" style="color: #f0efd0;">*</span> i<span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="173">
</div><div class="line" data-line="174">    <span data-highlight="comment" style="color: #7f9f7f;">// A prime number generator</span>
</div><div class="line" data-line="175">    <span data-highlight="comment" style="color: #7f9f7f;">// - this is using a short notation for the pattern matching syntax</span>
</div><div class="line" data-line="176">    <span data-highlight="comment" style="color: #7f9f7f;">// - (p::xs) is &#39;first :: tail&#39; of the list, could also be written as p :: xs</span>
</div><div class="line" data-line="177">    <span data-highlight="comment" style="color: #7f9f7f;">//   this means this matches &#39;p&#39; (the first item in the list), and xs is the rest of the list</span>
</div><div class="line" data-line="178">    <span data-highlight="comment" style="color: #7f9f7f;">//   this is called the &#39;cons pattern&#39;</span>
</div><div class="line" data-line="179">    <span data-highlight="comment" style="color: #7f9f7f;">// - uses &#39;rec&#39; keyword, which is necessary when using recursion</span>
</div><div class="line" data-line="180">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="keyword.modifier" style="color: #f0dfaf; font-weight: bold;">rec</span> <span data-highlight="variable" style="color: #efdcbc;">sieve</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">function</span>
</div><div class="line" data-line="181">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span>p::xs<span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;">p <span data-highlight="operator" style="color: #f0efd0;">::</span> sieve</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span> <span data-highlight="keyword.repeat" style="color: #ffd7a7; font-weight: bold;">for</span> x <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">in</span> xs <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">do</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">if</span> x <span data-highlight="operator" style="color: #f0efd0;">%</span> p <span data-highlight="operator" style="color: #f0efd0;">&gt;</span> <span data-highlight="number" style="color: #8cd0d3;">0</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">then</span> <span data-highlight="keyword.return" style="color: #f0dfaf; font-weight: bold;">yield</span> x <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span>
</div><div class="line" data-line="182">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span>      <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="183">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">primes</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">sieve</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="operator" style="color: #f0efd0;">..</span><span data-highlight="number" style="color: #8cd0d3;">50</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="184">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;%A&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">primes</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="185">
</div><div class="line" data-line="186">    <span data-highlight="comment" style="color: #7f9f7f;">// pattern matching for lists</span>
</div><div class="line" data-line="187">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">listMatcher</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">aList</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="188">        <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">match</span> aList <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">with</span>
</div><div class="line" data-line="189">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;">printfn</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;the list is empty&quot;</span></span>
</div><div class="line" data-line="190">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span>first<span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;the list has one element %A &quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">first</span>
</div><div class="line" data-line="191">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span>first; second<span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;list is %A and %A&quot;</span></span></span> <span data-highlight="variable" style="color: #efdcbc;">first</span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">second</span>
</div><div class="line" data-line="192">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">first :: <span data-highlight="character.special" style="color: #dca3a3; font-weight: bold;">_</span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;the list has more than two elements, first element %A&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">first</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="193">
</div><div class="line" data-line="194">    <span data-highlight="function.call" style="color: #efef8f;">listMatcher</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">3</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">4</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="195">    <span data-highlight="function.call" style="color: #efef8f;">listMatcher</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="196">    <span data-highlight="function.call" style="color: #efef8f;">listMatcher</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="197">    <span data-highlight="function.call" style="color: #efef8f;">listMatcher</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="198">
</div><div class="line" data-line="199">    <span data-highlight="comment" style="color: #7f9f7f;">// recursion using lists</span>
</div><div class="line" data-line="200">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="keyword.modifier" style="color: #f0dfaf; font-weight: bold;">rec</span> <span data-highlight="function" style="color: #efef8f;">sum</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">aList</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="201">        <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">match</span> aList <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">with</span>
</div><div class="line" data-line="202">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="number" style="color: #8cd0d3;">0</span>
</div><div class="line" data-line="203">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">x::xs</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;">x <span data-highlight="operator" style="color: #f0efd0;">+</span> sum</span> <span data-highlight="variable" style="color: #efdcbc;">xs</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="204">    <span data-highlight="function.call" style="color: #efef8f;">sum</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="operator" style="color: #f0efd0;">..</span><span data-highlight="number" style="color: #8cd0d3;">10</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="205">
</div><div class="line" data-line="206">    <span data-highlight="comment" style="color: #7f9f7f;">// -----------------------------------------</span>
</div><div class="line" data-line="207">    <span data-highlight="comment" style="color: #7f9f7f;">// Standard library functions</span>
</div><div class="line" data-line="208">    <span data-highlight="comment" style="color: #7f9f7f;">// -----------------------------------------</span>
</div><div class="line" data-line="209">
</div><div class="line" data-line="210">    <span data-highlight="comment" style="color: #7f9f7f;">// map</span>
</div><div class="line" data-line="211">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">add3</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">x</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> x <span data-highlight="operator" style="color: #f0efd0;">+</span> <span data-highlight="number" style="color: #8cd0d3;">3</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="212">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="operator" style="color: #f0efd0;">..</span><span data-highlight="number" style="color: #8cd0d3;">10</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span> <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>map</span> <span data-highlight="variable" style="color: #efdcbc;">add3</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="213">
</div><div class="line" data-line="214">    <span data-highlight="comment" style="color: #7f9f7f;">// filter</span>
</div><div class="line" data-line="215">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">even</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">x</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> x <span data-highlight="operator" style="color: #f0efd0;">%</span> <span data-highlight="number" style="color: #8cd0d3;">2</span> <span data-highlight="operator" style="color: #f0efd0;"><span data-highlight="operator" style="color: #f0efd0;">=</span></span> <span data-highlight="number" style="color: #8cd0d3;">0</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="216">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="operator" style="color: #f0efd0;">..</span><span data-highlight="number" style="color: #8cd0d3;">10</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span> <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>filter</span> <span data-highlight="variable" style="color: #efdcbc;">even</span>
</div><div class="line" data-line="217">
</div><div class="line" data-line="218">    <span data-highlight="comment" style="color: #7f9f7f;">// many more -- see documentation</span>
</div><div class="line" data-line="219">
</div><div class="line" data-line="220"><span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">module</span> <span data-highlight="module" style="color: #efdcbc;">ArrayExamples</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="221">
</div><div class="line" data-line="222">    <span data-highlight="comment" style="color: #7f9f7f;">// arrays use square brackets with bar</span>
</div><div class="line" data-line="223">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">array1</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[|</span> <span data-highlight="string" style="color: #cc9393;">&quot;a&quot;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="string" style="color: #cc9393;">&quot;b&quot;</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">|]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="224">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">first</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> array1<span data-highlight="punctuation.bracket" style="color: #8f8f8f;">.[</span><span data-highlight="number" style="color: #8cd0d3;">0</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>        <span data-highlight="comment" style="color: #7f9f7f;">// indexed access using dot</span>
</div><div class="line" data-line="225">
</div><div class="line" data-line="226">    <span data-highlight="comment" style="color: #7f9f7f;">// pattern matching for arrays is same as for lists</span>
</div><div class="line" data-line="227">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">arrayMatcher</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">aList</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="228">        <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">match</span> aList <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">with</span>
</div><div class="line" data-line="229">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[|</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">|]</span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;">printfn</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;the array is empty&quot;</span></span>
</div><div class="line" data-line="230">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[|</span> first <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">|]</span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;the array has one element %A &quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">first</span>
</div><div class="line" data-line="231">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[|</span> first; second <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">|]</span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;array is %A and %A&quot;</span></span></span> <span data-highlight="variable" style="color: #efdcbc;">first</span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">second</span>
</div><div class="line" data-line="232">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="character.special" style="color: #dca3a3; font-weight: bold;">_</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;">printfn</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;the array has more than two elements&quot;</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="233">
</div><div class="line" data-line="234">    <span data-highlight="function.call" style="color: #efef8f;">arrayMatcher</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[|</span> <span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">3</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">4</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">|]</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="235">
</div><div class="line" data-line="236">    <span data-highlight="comment" style="color: #7f9f7f;">// Standard library functions just as for List</span>
</div><div class="line" data-line="237">
</div><div class="line" data-line="238">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[|</span> <span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="operator" style="color: #f0efd0;">..</span><span data-highlight="number" style="color: #8cd0d3;">10</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">|]</span></span></span></span>
</div><div class="line" data-line="239"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">    <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">Array</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>map <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">fun</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">i</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> i <span data-highlight="operator" style="color: #f0efd0;">+</span> <span data-highlight="number" style="color: #8cd0d3;">3</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span></span></span></span>
</div><div class="line" data-line="240"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">    <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">Array</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>filter <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">fun</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">i</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> i <span data-highlight="operator" style="color: #f0efd0;">%</span> <span data-highlight="number" style="color: #8cd0d3;">2</span> <span data-highlight="operator" style="color: #f0efd0;"><span data-highlight="operator" style="color: #f0efd0;">=</span></span> <span data-highlight="number" style="color: #8cd0d3;">0</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span></span></span></span>
</div><div class="line" data-line="241"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">    <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">Array</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>iter</span></span></span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="function.call" style="color: #efef8f;">printfn</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;value is %i. &quot;</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span>
</div><div class="line" data-line="242">
</div><div class="line" data-line="243">
</div><div class="line" data-line="244"><span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">module</span> <span data-highlight="module" style="color: #efdcbc;">SequenceExamples</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="245">
</div><div class="line" data-line="246">    <span data-highlight="comment" style="color: #7f9f7f;">// sequences use curly braces</span>
</div><div class="line" data-line="247">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">seq1</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="constant.macro" style="color: #ffcfaf; font-weight: bold;">seq</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span> <span data-highlight="keyword.return" style="color: #f0dfaf; font-weight: bold;">yield</span> <span data-highlight="string" style="color: #cc9393;">&quot;a&quot;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="keyword.return" style="color: #f0dfaf; font-weight: bold;">yield</span> <span data-highlight="string" style="color: #cc9393;">&quot;b&quot;</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="248">
</div><div class="line" data-line="249">    <span data-highlight="comment" style="color: #7f9f7f;">// sequences can use yield and</span>
</div><div class="line" data-line="250">    <span data-highlight="comment" style="color: #7f9f7f;">// can contain subsequences</span>
</div><div class="line" data-line="251">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">strange</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="constant.macro" style="color: #ffcfaf; font-weight: bold;">seq</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span>
</div><div class="line" data-line="252">        <span data-highlight="comment" style="color: #7f9f7f;">// &quot;yield&quot; adds one element</span>
</div><div class="line" data-line="253">        <span data-highlight="keyword.return" style="color: #f0dfaf; font-weight: bold;">yield</span> <span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="keyword.return" style="color: #f0dfaf; font-weight: bold;">yield</span> <span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="254">
</div><div class="line" data-line="255">        <span data-highlight="comment" style="color: #7f9f7f;">// &quot;yield!&quot; adds a whole subsequence</span>
</div><div class="line" data-line="256">        <span data-highlight="keyword.return" style="color: #f0dfaf; font-weight: bold;">yield!</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">5</span><span data-highlight="operator" style="color: #f0efd0;">..</span><span data-highlight="number" style="color: #8cd0d3;">10</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="257">        <span data-highlight="keyword.return" style="color: #f0dfaf; font-weight: bold;">yield!</span> <span data-highlight="constant.macro" style="color: #ffcfaf; font-weight: bold;">seq</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span>
</div><div class="line" data-line="258">            <span data-highlight="keyword.repeat" style="color: #ffd7a7; font-weight: bold;">for</span> i <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">in</span> <span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="operator" style="color: #f0efd0;">..</span><span data-highlight="number" style="color: #8cd0d3;">10</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">do</span>
</div><div class="line" data-line="259">              <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">if</span> i <span data-highlight="operator" style="color: #f0efd0;">%</span> <span data-highlight="number" style="color: #8cd0d3;">2</span> <span data-highlight="operator" style="color: #f0efd0;"><span data-highlight="operator" style="color: #f0efd0;">=</span></span> <span data-highlight="number" style="color: #8cd0d3;">0</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">then</span> <span data-highlight="keyword.return" style="color: #f0dfaf; font-weight: bold;">yield</span> i <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="260">    <span data-highlight="comment" style="color: #7f9f7f;">// test</span>
</div><div class="line" data-line="261">    strange <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">Seq</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>toList<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="262">
</div><div class="line" data-line="263">
</div><div class="line" data-line="264">    <span data-highlight="comment" style="color: #7f9f7f;">// Sequences can be created using &quot;unfold&quot;</span>
</div><div class="line" data-line="265">    <span data-highlight="comment" style="color: #7f9f7f;">// Here&#39;s the fibonacci series</span>
</div><div class="line" data-line="266">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">fib</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="module.builtin" style="color: #cfbfaf;">Seq</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>unfold <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">fun</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable.parameter" style="color: #efdcbc;">fst<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span>snd</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span></span></span></span>
</div><div class="line" data-line="267"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="variable" style="color: #efdcbc;">        <span data-highlight="function.call" style="color: #efef8f;">Some</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">fst <span data-highlight="operator" style="color: #f0efd0;">+</span> snd<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span>snd<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> fst <span data-highlight="operator" style="color: #f0efd0;">+</span> snd<span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="number" style="color: #8cd0d3;">0</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="268">
</div><div class="line" data-line="269">    <span data-highlight="comment" style="color: #7f9f7f;">// test</span>
</div><div class="line" data-line="270">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">fib10</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">fib <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">Seq</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>take</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">10</span></span></span> <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">Seq</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>toList<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="271">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printf <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;first 10 fibs are %A&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">fib10</span>
</div><div class="line" data-line="272">
</div><div class="line" data-line="273">
</div><div class="line" data-line="274"><span data-highlight="comment" style="color: #7f9f7f;">// ================================================</span>
</div><div class="line" data-line="275"><span data-highlight="comment" style="color: #7f9f7f;">// Data Types</span>
</div><div class="line" data-line="276"><span data-highlight="comment" style="color: #7f9f7f;">// ================================================</span>
</div><div class="line" data-line="277">
</div><div class="line" data-line="278"><span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">module</span> <span data-highlight="module" style="color: #efdcbc;">DataTypeExamples</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="279">
</div><div class="line" data-line="280">    <span data-highlight="comment" style="color: #7f9f7f;">// All data is immutable by default</span>
</div><div class="line" data-line="281">
</div><div class="line" data-line="282">    <span data-highlight="comment" style="color: #7f9f7f;">// Tuples are quick &#39;n easy anonymous types</span>
</div><div class="line" data-line="283">    <span data-highlight="comment" style="color: #7f9f7f;">// -- Use a comma to create a tuple</span>
</div><div class="line" data-line="284">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">twoTuple</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="285">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">threeTuple</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="string" style="color: #cc9393;">&quot;a&quot;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="boolean" style="color: #dca3a3;">true</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="286">
</div><div class="line" data-line="287">    <span data-highlight="comment" style="color: #7f9f7f;">// Pattern match to unpack</span>
</div><div class="line" data-line="288">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">x<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> y</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> twoTuple<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>  <span data-highlight="comment" style="color: #7f9f7f;">// sets x = 1, y = 2</span>
</div><div class="line" data-line="289">
</div><div class="line" data-line="290">    <span data-highlight="comment" style="color: #7f9f7f;">// ------------------------------------</span>
</div><div class="line" data-line="291">    <span data-highlight="comment" style="color: #7f9f7f;">// Record types have named fields</span>
</div><div class="line" data-line="292">    <span data-highlight="comment" style="color: #7f9f7f;">// ------------------------------------</span>
</div><div class="line" data-line="293">
</div><div class="line" data-line="294">    <span data-highlight="comment" style="color: #7f9f7f;">// Use &quot;type&quot; with curly braces to define a record type</span>
</div><div class="line" data-line="295">    <span data-highlight="keyword.type" style="color: #efefaf; font-weight: bold;">type</span> <span data-highlight="type.definition" style="color: #dfe4cf; font-weight: bold;">Person</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="property" style="color: #efdcbc;">First</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">:</span><span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type.builtin" style="color: #cfbfaf;">string</span></span>; <span data-highlight="property" style="color: #efdcbc;">Last</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">:</span><span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type.builtin" style="color: #cfbfaf;">string</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="296">
</div><div class="line" data-line="297">    <span data-highlight="comment" style="color: #7f9f7f;">// Use &quot;let&quot; with curly braces to create a record</span>
</div><div class="line" data-line="298">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">person1</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="property" style="color: #efdcbc;">First</span><span data-highlight="operator" style="color: #f0efd0;">=</span><span data-highlight="string" style="color: #cc9393;">&quot;John&quot;</span>; <span data-highlight="property" style="color: #efdcbc;">Last</span><span data-highlight="operator" style="color: #f0efd0;">=</span><span data-highlight="string" style="color: #cc9393;">&quot;Doe&quot;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="299">
</div><div class="line" data-line="300">    <span data-highlight="comment" style="color: #7f9f7f;">// Pattern match to unpack</span>
</div><div class="line" data-line="301">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span>First <span data-highlight="operator" style="color: #f0efd0;">=</span> first<span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span></span> <span data-highlight="operator" style="color: #f0efd0;">=</span> person1<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>    <span data-highlight="comment" style="color: #7f9f7f;">// sets first=&quot;John&quot;</span>
</div><div class="line" data-line="302">
</div><div class="line" data-line="303">    <span data-highlight="comment" style="color: #7f9f7f;">// ------------------------------------</span>
</div><div class="line" data-line="304">    <span data-highlight="comment" style="color: #7f9f7f;">// Union types (aka variants) have a set of choices</span>
</div><div class="line" data-line="305">    <span data-highlight="comment" style="color: #7f9f7f;">// Only one case can be valid at a time.</span>
</div><div class="line" data-line="306">    <span data-highlight="comment" style="color: #7f9f7f;">// ------------------------------------</span>
</div><div class="line" data-line="307">
</div><div class="line" data-line="308">    <span data-highlight="comment" style="color: #7f9f7f;">// Use &quot;type&quot; with bar/pipe to define a union type</span>
</div><div class="line" data-line="309">    <span data-highlight="keyword.type" style="color: #efefaf; font-weight: bold;">type</span> <span data-highlight="type.definition" style="color: #dfe4cf; font-weight: bold;">Temp</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="310">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">DegreesC</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">of</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type.builtin" style="color: #cfbfaf;">float</span></span>
</div><div class="line" data-line="311">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">DegreesF</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">of</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type.builtin" style="color: #cfbfaf;">float</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="312">
</div><div class="line" data-line="313">    <span data-highlight="comment" style="color: #7f9f7f;">// Use one of the cases to create one</span>
</div><div class="line" data-line="314">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">temp1</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">DegreesF</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number.float" style="color: #c0bed1;">98.6</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="315">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">temp2</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">DegreesC</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number.float" style="color: #c0bed1;">37.0</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="316">
</div><div class="line" data-line="317">    <span data-highlight="comment" style="color: #7f9f7f;">// Pattern match on all cases to unpack</span>
</div><div class="line" data-line="318">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">printTemp</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">function</span>
</div><div class="line" data-line="319">       <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">DegreesC</span> <span data-highlight="variable" style="color: #efdcbc;">t</span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;%f degC&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">t</span>
</div><div class="line" data-line="320">       <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">DegreesF</span> <span data-highlight="variable" style="color: #efdcbc;">t</span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;%f degF&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">t</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="321">
</div><div class="line" data-line="322">    <span data-highlight="function.call" style="color: #efef8f;">printTemp</span> <span data-highlight="variable" style="color: #efdcbc;">temp1</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="323">    <span data-highlight="function.call" style="color: #efef8f;">printTemp</span> <span data-highlight="variable" style="color: #efdcbc;">temp2</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="324">
</div><div class="line" data-line="325">    <span data-highlight="comment" style="color: #7f9f7f;">// ------------------------------------</span>
</div><div class="line" data-line="326">    <span data-highlight="comment" style="color: #7f9f7f;">// Recursive types</span>
</div><div class="line" data-line="327">    <span data-highlight="comment" style="color: #7f9f7f;">// ------------------------------------</span>
</div><div class="line" data-line="328">
</div><div class="line" data-line="329">    <span data-highlight="comment" style="color: #7f9f7f;">// Types can be combined recursively in complex ways</span>
</div><div class="line" data-line="330">    <span data-highlight="comment" style="color: #7f9f7f;">// without having to create subclasses</span>
</div><div class="line" data-line="331">    <span data-highlight="keyword.type" style="color: #efefaf; font-weight: bold;">type</span> <span data-highlight="type.definition" style="color: #dfe4cf; font-weight: bold;">Employee</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="332">      <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Worker</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">of</span> <span data-highlight="type" style="color: #dfdfbf;">Person</span>
</div><div class="line" data-line="333">      <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Manager</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">of</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type" style="color: #dfdfbf;">Employee</span> list</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="334">
</div><div class="line" data-line="335">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">jdoe</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span><span data-highlight="property" style="color: #efdcbc;">First</span><span data-highlight="operator" style="color: #f0efd0;">=</span><span data-highlight="string" style="color: #cc9393;">&quot;John&quot;</span>; <span data-highlight="property" style="color: #efdcbc;">Last</span><span data-highlight="operator" style="color: #f0efd0;">=</span><span data-highlight="string" style="color: #cc9393;">&quot;Doe&quot;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="336">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">worker</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">Worker</span> <span data-highlight="variable" style="color: #efdcbc;">jdoe</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="337">
</div><div class="line" data-line="338">    <span data-highlight="comment" style="color: #7f9f7f;">// ------------------------------------</span>
</div><div class="line" data-line="339">    <span data-highlight="comment" style="color: #7f9f7f;">// Modeling with types</span>
</div><div class="line" data-line="340">    <span data-highlight="comment" style="color: #7f9f7f;">// ------------------------------------</span>
</div><div class="line" data-line="341">
</div><div class="line" data-line="342">    <span data-highlight="comment" style="color: #7f9f7f;">// Union types are great for modeling state without using flags</span>
</div><div class="line" data-line="343">    <span data-highlight="keyword.type" style="color: #efefaf; font-weight: bold;">type</span> <span data-highlight="type.definition" style="color: #dfe4cf; font-weight: bold;">EmailAddress</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="344">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">ValidEmailAddress</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">of</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type.builtin" style="color: #cfbfaf;">string</span></span>
</div><div class="line" data-line="345">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">InvalidEmailAddress</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">of</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type.builtin" style="color: #cfbfaf;">string</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="346">
</div><div class="line" data-line="347">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">trySendEmail</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">email</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="348">        <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">match</span> email <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">with</span> <span data-highlight="comment" style="color: #7f9f7f;">// use pattern matching</span>
</div><div class="line" data-line="349">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">ValidEmailAddress</span> <span data-highlight="variable" style="color: #efdcbc;">address</span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="constant.builtin" style="color: #cfbfaf;">()</span>   <span data-highlight="comment" style="color: #7f9f7f;">// send</span>
</div><div class="line" data-line="350">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">InvalidEmailAddress</span> <span data-highlight="variable" style="color: #efdcbc;">address</span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="constant.builtin" style="color: #cfbfaf;">()</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span> <span data-highlight="comment" style="color: #7f9f7f;">// don&#39;t send</span>
</div><div class="line" data-line="351">
</div><div class="line" data-line="352">    <span data-highlight="comment" style="color: #7f9f7f;">// The combination of union types and record types together</span>
</div><div class="line" data-line="353">    <span data-highlight="comment" style="color: #7f9f7f;">// provide a great foundation for domain driven design.</span>
</div><div class="line" data-line="354">    <span data-highlight="comment" style="color: #7f9f7f;">// You can create hundreds of little types that accurately</span>
</div><div class="line" data-line="355">    <span data-highlight="comment" style="color: #7f9f7f;">// reflect the domain.</span>
</div><div class="line" data-line="356">
</div><div class="line" data-line="357">    <span data-highlight="keyword.type" style="color: #efefaf; font-weight: bold;">type</span> <span data-highlight="type.definition" style="color: #dfe4cf; font-weight: bold;">CartItem</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span> <span data-highlight="property" style="color: #efdcbc;">ProductCode</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">:</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type.builtin" style="color: #cfbfaf;">string</span></span>; <span data-highlight="property" style="color: #efdcbc;">Qty</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">:</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type.builtin" style="color: #cfbfaf;">int</span></span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="358">    <span data-highlight="keyword.type" style="color: #efefaf; font-weight: bold;">type</span> <span data-highlight="type.definition" style="color: #dfe4cf; font-weight: bold;">Payment</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Payment</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">of</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type.builtin" style="color: #cfbfaf;">float</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="359">    <span data-highlight="keyword.type" style="color: #efefaf; font-weight: bold;">type</span> <span data-highlight="type.definition" style="color: #dfe4cf; font-weight: bold;">ActiveCartData</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span> <span data-highlight="property" style="color: #efdcbc;">UnpaidItems</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">:</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type" style="color: #dfdfbf;">CartItem</span> list</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="360">    <span data-highlight="keyword.type" style="color: #efefaf; font-weight: bold;">type</span> <span data-highlight="type.definition" style="color: #dfe4cf; font-weight: bold;">PaidCartData</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span> <span data-highlight="property" style="color: #efdcbc;">PaidItems</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">:</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type" style="color: #dfdfbf;">CartItem</span> list</span>; <span data-highlight="property" style="color: #efdcbc;">Payment</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">:</span> <span data-highlight="type" style="color: #dfdfbf;">Payment</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="361">
</div><div class="line" data-line="362">    <span data-highlight="keyword.type" style="color: #efefaf; font-weight: bold;">type</span> <span data-highlight="type.definition" style="color: #dfe4cf; font-weight: bold;">ShoppingCart</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="363">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">EmptyCart</span>  <span data-highlight="comment" style="color: #7f9f7f;">// no data</span>
</div><div class="line" data-line="364">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">ActiveCart</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">of</span> <span data-highlight="type" style="color: #dfdfbf;">ActiveCartData</span>
</div><div class="line" data-line="365">        <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">PaidCart</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">of</span> <span data-highlight="type" style="color: #dfdfbf;">PaidCartData</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="366">
</div><div class="line" data-line="367">    <span data-highlight="comment" style="color: #7f9f7f;">// ------------------------------------</span>
</div><div class="line" data-line="368">    <span data-highlight="comment" style="color: #7f9f7f;">// Built in behavior for types</span>
</div><div class="line" data-line="369">    <span data-highlight="comment" style="color: #7f9f7f;">// ------------------------------------</span>
</div><div class="line" data-line="370">
</div><div class="line" data-line="371">    <span data-highlight="comment" style="color: #7f9f7f;">// Core types have useful &quot;out-of-the-box&quot; behavior, no coding needed.</span>
</div><div class="line" data-line="372">    <span data-highlight="comment" style="color: #7f9f7f;">// * Immutability</span>
</div><div class="line" data-line="373">    <span data-highlight="comment" style="color: #7f9f7f;">// * Pretty printing when debugging</span>
</div><div class="line" data-line="374">    <span data-highlight="comment" style="color: #7f9f7f;">// * Equality and comparison</span>
</div><div class="line" data-line="375">    <span data-highlight="comment" style="color: #7f9f7f;">// * Serialization</span>
</div><div class="line" data-line="376">
</div><div class="line" data-line="377">    <span data-highlight="comment" style="color: #7f9f7f;">// Pretty printing using %A</span>
</div><div class="line" data-line="378">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;twoTuple=%A,\nPerson=%A,\nTemp=%A,\nEmployee=%A&quot;</span></span></span></span></span></span></span></span>
</div><div class="line" data-line="379"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">             <span data-highlight="variable" style="color: #efdcbc;">twoTuple</span> <span data-highlight="variable" style="color: #efdcbc;">person1</span> <span data-highlight="variable" style="color: #efdcbc;">temp1</span></span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">worker</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="380">
</div><div class="line" data-line="381">    <span data-highlight="comment" style="color: #7f9f7f;">// Equality and comparison built in.</span>
</div><div class="line" data-line="382">    <span data-highlight="comment" style="color: #7f9f7f;">// Here&#39;s an example with cards.</span>
</div><div class="line" data-line="383">    <span data-highlight="keyword.type" style="color: #efefaf; font-weight: bold;">type</span> <span data-highlight="type.definition" style="color: #dfe4cf; font-weight: bold;">Suit</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Club</span> <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Diamond</span> <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Spade</span> <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Heart</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="384">    <span data-highlight="keyword.type" style="color: #efefaf; font-weight: bold;">type</span> <span data-highlight="type.definition" style="color: #dfe4cf; font-weight: bold;">Rank</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Two</span> <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Three</span> <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Four</span> <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Five</span> <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Six</span> <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Seven</span> <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Eight</span>
</div><div class="line" data-line="385">                <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Nine</span> <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Ten</span> <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Jack</span> <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Queen</span> <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">King</span> <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Ace</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="386">
</div><div class="line" data-line="387">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">hand</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span> Club<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> Ace<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> Heart<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> Three<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> Heart<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> Ace<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="388">                 Spade<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> Jack<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> Diamond<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> Two<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> Diamond<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> Ace <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="389">
</div><div class="line" data-line="390">    <span data-highlight="comment" style="color: #7f9f7f;">// sorting</span>
</div><div class="line" data-line="391">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>sort <span data-highlight="variable" style="color: #efdcbc;">hand</span> <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> printfn</span></span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;sorted hand is (low to high) %A&quot;</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="392">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>max <span data-highlight="variable" style="color: #efdcbc;">hand</span> <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> printfn</span></span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;high card is %A&quot;</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="393">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>min <span data-highlight="variable" style="color: #efdcbc;">hand</span> <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> printfn</span></span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;low card is %A&quot;</span></span>
</div><div class="line" data-line="394">
</div><div class="line" data-line="395">
</div><div class="line" data-line="396"><span data-highlight="comment" style="color: #7f9f7f;">// ================================================</span>
</div><div class="line" data-line="397"><span data-highlight="comment" style="color: #7f9f7f;">// Active patterns</span>
</div><div class="line" data-line="398"><span data-highlight="comment" style="color: #7f9f7f;">// ================================================</span>
</div><div class="line" data-line="399">
</div><div class="line" data-line="400"><span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">module</span> <span data-highlight="module" style="color: #efdcbc;">ActivePatternExamples</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="401">
</div><div class="line" data-line="402">    <span data-highlight="comment" style="color: #7f9f7f;">// F# has a special type of pattern matching called &quot;active patterns&quot;</span>
</div><div class="line" data-line="403">    <span data-highlight="comment" style="color: #7f9f7f;">// where the pattern can be parsed or detected dynamically.</span>
</div><div class="line" data-line="404">
</div><div class="line" data-line="405">    <span data-highlight="comment" style="color: #7f9f7f;">// &quot;banana clips&quot; are the syntax for active patterns</span>
</div><div class="line" data-line="406">
</div><div class="line" data-line="407">    <span data-highlight="comment" style="color: #7f9f7f;">// You can use &quot;elif&quot; instead of &quot;else if&quot; in conditional expressions.</span>
</div><div class="line" data-line="408">    <span data-highlight="comment" style="color: #7f9f7f;">// They are equivalent in F#</span>
</div><div class="line" data-line="409">
</div><div class="line" data-line="410">    <span data-highlight="comment" style="color: #7f9f7f;">// for example, define an &quot;active&quot; pattern to match character types...</span>
</div><div class="line" data-line="411">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">(|Digit<span data-highlight="operator" style="color: #f0efd0;">|</span>Letter<span data-highlight="operator" style="color: #f0efd0;">|</span>Whitespace<span data-highlight="operator" style="color: #f0efd0;">|</span>Other|)</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">ch</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="412">       <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">if</span> <span data-highlight="variable.member" style="color: #efdcbc;"><span data-highlight="function.call" style="color: #efef8f;">System<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Char<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>IsDigit</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">ch</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">then</span> Digit
</div><div class="line" data-line="413">       <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">elif</span> <span data-highlight="variable.member" style="color: #efdcbc;"><span data-highlight="function.call" style="color: #efef8f;">System<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Char<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>IsLetter</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">ch</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">then</span> Letter
</div><div class="line" data-line="414">       <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">elif</span> <span data-highlight="variable.member" style="color: #efdcbc;"><span data-highlight="function.call" style="color: #efef8f;">System<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Char<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>IsWhiteSpace</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">ch</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">then</span> Whitespace
</div><div class="line" data-line="415">       <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">else</span> Other<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="416">
</div><div class="line" data-line="417">    <span data-highlight="comment" style="color: #7f9f7f;">// ... and then use it to make parsing logic much clearer</span>
</div><div class="line" data-line="418">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">printChar</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">ch</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="419">      <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">match</span> ch <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">with</span>
</div><div class="line" data-line="420">      <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Digit</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;%c is a Digit&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">ch</span>
</div><div class="line" data-line="421">      <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Letter</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;%c is a Letter&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">ch</span>
</div><div class="line" data-line="422">      <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">Whitespace</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;%c is a Whitespace&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">ch</span>
</div><div class="line" data-line="423">      <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="character.special" style="color: #dca3a3; font-weight: bold;">_</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;%c is something else&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">ch</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="424">
</div><div class="line" data-line="425">    <span data-highlight="comment" style="color: #7f9f7f;">// print a list</span>
</div><div class="line" data-line="426">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="string" style="color: #cc9393;">&#39;a&#39;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="string" style="color: #cc9393;">&#39;b&#39;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="string" style="color: #cc9393;">&#39;1&#39;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="string" style="color: #cc9393;">&#39; &#39;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="string" style="color: #cc9393;">&#39;-&#39;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="string" style="color: #cc9393;">&#39;c&#39;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span> <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>iter</span> <span data-highlight="variable" style="color: #efdcbc;">printChar</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="427">
</div><div class="line" data-line="428">    <span data-highlight="comment" style="color: #7f9f7f;">// -----------------------------------</span>
</div><div class="line" data-line="429">    <span data-highlight="comment" style="color: #7f9f7f;">// FizzBuzz using active patterns</span>
</div><div class="line" data-line="430">    <span data-highlight="comment" style="color: #7f9f7f;">// -----------------------------------</span>
</div><div class="line" data-line="431">
</div><div class="line" data-line="432">    <span data-highlight="comment" style="color: #7f9f7f;">// You can create partial matching patterns as well</span>
</div><div class="line" data-line="433">    <span data-highlight="comment" style="color: #7f9f7f;">// Just use underscore in the definition, and return Some if matched.</span>
</div><div class="line" data-line="434">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">(|MultOf3<span data-highlight="operator" style="color: #f0efd0;">|</span>_|)</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">i</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">if</span> i <span data-highlight="operator" style="color: #f0efd0;">%</span> <span data-highlight="number" style="color: #8cd0d3;">3</span> <span data-highlight="operator" style="color: #f0efd0;"><span data-highlight="operator" style="color: #f0efd0;">=</span></span> <span data-highlight="number" style="color: #8cd0d3;">0</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">then</span> <span data-highlight="function.call" style="color: #efef8f;">Some</span> <span data-highlight="variable" style="color: #efdcbc;">MultOf3</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">else</span> None<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="435">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">(|MultOf5<span data-highlight="operator" style="color: #f0efd0;">|</span>_|)</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">i</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">if</span> i <span data-highlight="operator" style="color: #f0efd0;">%</span> <span data-highlight="number" style="color: #8cd0d3;">5</span> <span data-highlight="operator" style="color: #f0efd0;"><span data-highlight="operator" style="color: #f0efd0;">=</span></span> <span data-highlight="number" style="color: #8cd0d3;">0</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">then</span> <span data-highlight="function.call" style="color: #efef8f;">Some</span> <span data-highlight="variable" style="color: #efdcbc;">MultOf5</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">else</span> None<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="436">
</div><div class="line" data-line="437">    <span data-highlight="comment" style="color: #7f9f7f;">// the main function</span>
</div><div class="line" data-line="438">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">fizzBuzz</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">i</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="439">      <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">match</span> i <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">with</span>
</div><div class="line" data-line="440">      <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">MultOf3 <span data-highlight="operator" style="color: #f0efd0;">&amp;</span> MultOf5</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;">printf</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;FizzBuzz, &quot;</span></span>
</div><div class="line" data-line="441">      <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">MultOf3</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;">printf</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;Fizz, &quot;</span></span>
</div><div class="line" data-line="442">      <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">MultOf5</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;">printf</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;Buzz, &quot;</span></span>
</div><div class="line" data-line="443">      <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="character.special" style="color: #dca3a3; font-weight: bold;">_</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printf <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;%i, &quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">i</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="444">
</div><div class="line" data-line="445">    <span data-highlight="comment" style="color: #7f9f7f;">// test</span>
</div><div class="line" data-line="446">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="operator" style="color: #f0efd0;">..</span><span data-highlight="number" style="color: #8cd0d3;">20</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span> <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>iter</span> <span data-highlight="variable" style="color: #efdcbc;">fizzBuzz</span>
</div><div class="line" data-line="447">
</div><div class="line" data-line="448"><span data-highlight="comment" style="color: #7f9f7f;">// ================================================</span>
</div><div class="line" data-line="449"><span data-highlight="comment" style="color: #7f9f7f;">// Conciseness</span>
</div><div class="line" data-line="450"><span data-highlight="comment" style="color: #7f9f7f;">// ================================================</span>
</div><div class="line" data-line="451">
</div><div class="line" data-line="452"><span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">module</span> <span data-highlight="module" style="color: #efdcbc;">AlgorithmExamples</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="453">
</div><div class="line" data-line="454">    <span data-highlight="comment" style="color: #7f9f7f;">// F# has a high signal/noise ratio, so code reads</span>
</div><div class="line" data-line="455">    <span data-highlight="comment" style="color: #7f9f7f;">// almost like the actual algorithm</span>
</div><div class="line" data-line="456">
</div><div class="line" data-line="457">    <span data-highlight="comment" style="color: #7f9f7f;">// ------ Example: define sumOfSquares function ------</span>
</div><div class="line" data-line="458">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">sumOfSquares</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">n</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="459">       <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="operator" style="color: #f0efd0;">..</span>n<span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span>              <span data-highlight="comment" style="color: #7f9f7f;">// 1) take all the numbers from 1 to n</span></span>
</div><div class="line" data-line="460"><span data-highlight="function.call" style="color: #efef8f;">       <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>map</span> <span data-highlight="variable" style="color: #efdcbc;">square</span>  <span data-highlight="comment" style="color: #7f9f7f;">// 2) square each one</span>
</div><div class="line" data-line="461">       <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>sum<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>         <span data-highlight="comment" style="color: #7f9f7f;">// 3) sum the results</span>
</div><div class="line" data-line="462">
</div><div class="line" data-line="463">    <span data-highlight="comment" style="color: #7f9f7f;">// test</span>
</div><div class="line" data-line="464">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">sumOfSquares <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">100</span></span></span> <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> printfn</span></span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;Sum of squares = %A&quot;</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="465">
</div><div class="line" data-line="466">    <span data-highlight="comment" style="color: #7f9f7f;">// ------ Example: define a sort function ------</span>
</div><div class="line" data-line="467">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="keyword.modifier" style="color: #f0dfaf; font-weight: bold;">rec</span> <span data-highlight="function" style="color: #efef8f;">sort</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">list</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="468">       <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">match</span> list <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">with</span>
</div><div class="line" data-line="469">       <span data-highlight="comment" style="color: #7f9f7f;">// If the list is empty</span>
</div><div class="line" data-line="470">       <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span>
</div><div class="line" data-line="471">            <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span>                            <span data-highlight="comment" style="color: #7f9f7f;">// return an empty list</span>
</div><div class="line" data-line="472">       <span data-highlight="comment" style="color: #7f9f7f;">// If the list is not empty</span>
</div><div class="line" data-line="473">       <span data-highlight="operator" style="color: #f0efd0;">|</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;">firstElem::otherElements</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span>      <span data-highlight="comment" style="color: #7f9f7f;">// take the first element</span>
</div><div class="line" data-line="474">            <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">smallerElements</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>         <span data-highlight="comment" style="color: #7f9f7f;">// extract the smaller elements</span>
</div><div class="line" data-line="475">                <span data-highlight="function.call" style="color: #efef8f;">otherElements             <span data-highlight="comment" style="color: #7f9f7f;">// from the remaining ones</span></span>
</div><div class="line" data-line="476"><span data-highlight="function.call" style="color: #efef8f;">                <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>filter</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">fun</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">e</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> e <span data-highlight="operator" style="color: #f0efd0;">&lt;</span> firstElem<span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span>
</div><div class="line" data-line="477">                <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> sort                   <span data-highlight="comment" style="color: #7f9f7f;">// and sort them</span>
</div><div class="line" data-line="478">            <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">largerElements</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>          <span data-highlight="comment" style="color: #7f9f7f;">// extract the larger ones</span>
</div><div class="line" data-line="479">                <span data-highlight="function.call" style="color: #efef8f;">otherElements             <span data-highlight="comment" style="color: #7f9f7f;">// from the remaining ones</span></span>
</div><div class="line" data-line="480"><span data-highlight="function.call" style="color: #efef8f;">                <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>filter</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">fun</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">e</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> e <span data-highlight="operator" style="color: #f0efd0;">&gt;=</span> firstElem<span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span>
</div><div class="line" data-line="481">                <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> sort                   <span data-highlight="comment" style="color: #7f9f7f;">// and sort them</span>
</div><div class="line" data-line="482">            <span data-highlight="comment" style="color: #7f9f7f;">// Combine the 3 parts into a new list and return it</span>
</div><div class="line" data-line="483">            <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>concat</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span>smallerElements<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span>firstElem<span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> largerElements<span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="484">
</div><div class="line" data-line="485">    <span data-highlight="comment" style="color: #7f9f7f;">// test</span>
</div><div class="line" data-line="486">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">sort <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">5</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">23</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">18</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">9</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span> <span data-highlight="number" style="color: #8cd0d3;">3</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span></span> <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> printfn</span></span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;Sorted = %A&quot;</span></span>
</div><div class="line" data-line="487">
</div><div class="line" data-line="488"><span data-highlight="comment" style="color: #7f9f7f;">// ================================================</span>
</div><div class="line" data-line="489"><span data-highlight="comment" style="color: #7f9f7f;">// Asynchronous Code</span>
</div><div class="line" data-line="490"><span data-highlight="comment" style="color: #7f9f7f;">// ================================================</span>
</div><div class="line" data-line="491">
</div><div class="line" data-line="492"><span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">module</span> <span data-highlight="module" style="color: #efdcbc;">AsyncExample</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="493">
</div><div class="line" data-line="494">    <span data-highlight="comment" style="color: #7f9f7f;">// F# has built-in features to help with async code</span>
</div><div class="line" data-line="495">    <span data-highlight="comment" style="color: #7f9f7f;">// without encountering the &quot;pyramid of doom&quot;</span>
</div><div class="line" data-line="496">    <span data-highlight="comment" style="color: #7f9f7f;">//</span>
</div><div class="line" data-line="497">    <span data-highlight="comment" style="color: #7f9f7f;">// The following example downloads a set of web pages in parallel.</span>
</div><div class="line" data-line="498">
</div><div class="line" data-line="499">    <span data-highlight="keyword.import" style="color: #dfaf8f; font-weight: bold;">open</span> <span data-highlight="module" style="color: #efdcbc;">System<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Net</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="500">    <span data-highlight="keyword.import" style="color: #dfaf8f; font-weight: bold;">open</span> <span data-highlight="module" style="color: #efdcbc;">System</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="501">    <span data-highlight="keyword.import" style="color: #dfaf8f; font-weight: bold;">open</span> <span data-highlight="module" style="color: #efdcbc;">System<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>IO</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="502">    <span data-highlight="keyword.import" style="color: #dfaf8f; font-weight: bold;">open</span> <span data-highlight="module" style="color: #efdcbc;">Microsoft<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>FSharp<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Control<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>CommonExtensions</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="503">
</div><div class="line" data-line="504">    <span data-highlight="comment" style="color: #7f9f7f;">// Fetch the contents of a URL asynchronously</span>
</div><div class="line" data-line="505">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">fetchUrlAsync</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">url</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="506">        <span data-highlight="constant.macro" style="color: #ffcfaf; font-weight: bold;">async</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span>   <span data-highlight="comment" style="color: #7f9f7f;">// &quot;async&quot; keyword and curly braces</span>
</div><div class="line" data-line="507">                  <span data-highlight="comment" style="color: #7f9f7f;">// creates an &quot;async&quot; object</span>
</div><div class="line" data-line="508">            <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">req</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">WebRequest<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Create</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="function.call" style="color: #efef8f;">Uri</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">url</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span>
</div><div class="line" data-line="509">            <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">use!</span> resp <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">req<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>AsyncGetResponse</span><span data-highlight="function.call" style="color: #efef8f;">()</span>
</div><div class="line" data-line="510">                <span data-highlight="comment" style="color: #7f9f7f;">// use! is async assignment</span>
</div><div class="line" data-line="511">            <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">use</span> stream <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">resp<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>GetResponseStream</span><span data-highlight="function.call" style="color: #efef8f;">()</span>
</div><div class="line" data-line="512">                <span data-highlight="comment" style="color: #7f9f7f;">// &quot;use&quot; triggers automatic close()</span>
</div><div class="line" data-line="513">                <span data-highlight="comment" style="color: #7f9f7f;">// on resource at end of scope</span>
</div><div class="line" data-line="514">            <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">use</span> reader <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">new</span> <span data-highlight="function.call" style="color: #efef8f;">IO<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>StreamReader</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">stream</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span>
</div><div class="line" data-line="515">            <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">html</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">reader<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>ReadToEnd</span><span data-highlight="function.call" style="color: #efef8f;">()</span>
</div><div class="line" data-line="516">            <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;finished downloading %s&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">url</span>
</div><div class="line" data-line="517">            <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="518">
</div><div class="line" data-line="519">    <span data-highlight="comment" style="color: #7f9f7f;">// a list of sites to fetch</span>
</div><div class="line" data-line="520">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">sites</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="string" style="color: #cc9393;">&quot;http://www.bing.com&quot;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="521">                 <span data-highlight="string" style="color: #cc9393;">&quot;http://www.google.com&quot;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="522">                 <span data-highlight="string" style="color: #cc9393;">&quot;http://www.microsoft.com&quot;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="523">                 <span data-highlight="string" style="color: #cc9393;">&quot;http://www.amazon.com&quot;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span>
</div><div class="line" data-line="524">                 <span data-highlight="string" style="color: #cc9393;">&quot;http://www.yahoo.com&quot;</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="525">
</div><div class="line" data-line="526">    <span data-highlight="comment" style="color: #7f9f7f;">// do it</span>
</div><div class="line" data-line="527">    <span data-highlight="function.call" style="color: #efef8f;">sites</span>
</div><div class="line" data-line="528"><span data-highlight="function.call" style="color: #efef8f;">    <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">List</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>map</span> <span data-highlight="variable" style="color: #efdcbc;">fetchUrlAsync</span>  <span data-highlight="comment" style="color: #7f9f7f;">// make a list of async tasks</span>
</div><div class="line" data-line="529">    <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">Async</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Parallel          <span data-highlight="comment" style="color: #7f9f7f;">// set up the tasks to run in parallel</span>
</div><div class="line" data-line="530">    <span data-highlight="operator" style="color: #f0efd0;">|&gt;</span> <span data-highlight="module.builtin" style="color: #cfbfaf;">Async</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>RunSynchronously  <span data-highlight="comment" style="color: #7f9f7f;">// start them off</span>
</div><div class="line" data-line="531">
</div><div class="line" data-line="532"><span data-highlight="comment" style="color: #7f9f7f;">// ================================================</span>
</div><div class="line" data-line="533"><span data-highlight="comment" style="color: #7f9f7f;">// .NET compatibility</span>
</div><div class="line" data-line="534"><span data-highlight="comment" style="color: #7f9f7f;">// ================================================</span>
</div><div class="line" data-line="535">
</div><div class="line" data-line="536"><span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">module</span> <span data-highlight="module" style="color: #efdcbc;">NetCompatibilityExamples</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="537">
</div><div class="line" data-line="538">    <span data-highlight="comment" style="color: #7f9f7f;">// F# can do almost everything C# can do, and it integrates</span>
</div><div class="line" data-line="539">    <span data-highlight="comment" style="color: #7f9f7f;">// seamlessly with .NET or Mono libraries.</span>
</div><div class="line" data-line="540">
</div><div class="line" data-line="541">    <span data-highlight="comment" style="color: #7f9f7f;">// ------- work with existing library functions  -------</span>
</div><div class="line" data-line="542">
</div><div class="line" data-line="543">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span>i1success<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> i1<span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="variable.member" style="color: #efdcbc;"><span data-highlight="function.call" style="color: #efef8f;">System<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Int32<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>TryParse</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;123&quot;</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">;</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="544">    <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">if</span> i1success <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">then</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;parsed as %i&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">i1</span> <span data-highlight="keyword.conditional" style="color: #f0dfaf; font-weight: bold;">else</span> <span data-highlight="function.call" style="color: #efef8f;">printfn</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;parse failed&quot;</span></span>
</div><div class="line" data-line="545">
</div><div class="line" data-line="546">    <span data-highlight="comment" style="color: #7f9f7f;">// ------- Implement interfaces on the fly! -------</span>
</div><div class="line" data-line="547">
</div><div class="line" data-line="548">    <span data-highlight="comment" style="color: #7f9f7f;">// create a new object that implements IDisposable</span>
</div><div class="line" data-line="549">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="function" style="color: #efef8f;">makeResource</span> <span data-highlight="variable.parameter" style="color: #efdcbc;">name</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="550">       <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&lbrace;</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">new</span> System<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>IDisposable<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;"></span>
</div><div class="line" data-line="551">         <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">with <span data-highlight="variable" style="color: #efdcbc;">member</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="function.call" style="color: #efef8f;">this<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Dispose</span><span data-highlight="function.call" style="color: #efef8f;">()</span></span> <span data-highlight="operator" style="color: #f0efd0;"><span data-highlight="operator" style="color: #f0efd0;">=</span></span> printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;%s disposed&quot;</span></span></span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">name</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">&rbrace;</span>
</div><div class="line" data-line="552">
</div><div class="line" data-line="553">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> useAndDisposeResources <span data-highlight="operator" style="color: #f0efd0;"><span data-highlight="operator" style="color: #f0efd0;">=</span></span>
</div><div class="line" data-line="554">        <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">use</span> r1 <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">makeResource</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;first resource&quot;</span></span>
</div><div class="line" data-line="555">        <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;using first resource&quot;</span></span></span></span></span></span>
</div><div class="line" data-line="556"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">        <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="keyword.repeat" style="color: #ffd7a7; font-weight: bold;">for</span> i <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">in</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">[</span><span data-highlight="number" style="color: #8cd0d3;">1</span><span data-highlight="operator" style="color: #f0efd0;">..</span><span data-highlight="number" style="color: #8cd0d3;">3</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">]</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">do</span></span></span></span></span>
</div><div class="line" data-line="557"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="variable" style="color: #efdcbc;">            <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">resourceName</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">sprintf <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;\tinner resource %d&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">i</span></span></span></span></span>
</div><div class="line" data-line="558"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="variable" style="color: #efdcbc;">            <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">use</span> temp <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">makeResource</span> <span data-highlight="variable" style="color: #efdcbc;">resourceName</span></span></span></span></span>
</div><div class="line" data-line="559"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="variable" style="color: #efdcbc;">            <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;\tdo something with %s&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">resourceName</span></span></span></span></span>
</div><div class="line" data-line="560">        <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">use</span> r2 <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">makeResource</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;second resource&quot;</span></span></span>
</div><div class="line" data-line="561"><span data-highlight="variable" style="color: #efdcbc;">        <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;using second resource&quot;</span></span></span></span></span></span></span>
</div><div class="line" data-line="562"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">        <span data-highlight="variable" style="color: #efdcbc;">printfn</span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;done.&quot;</span></span></span>
</div><div class="line" data-line="563">
</div><div class="line" data-line="564">    <span data-highlight="comment" style="color: #7f9f7f;">// ------- Object oriented code -------</span>
</div><div class="line" data-line="565">
</div><div class="line" data-line="566">    <span data-highlight="comment" style="color: #7f9f7f;">// F# is also a fully fledged OO language.</span>
</div><div class="line" data-line="567">    <span data-highlight="comment" style="color: #7f9f7f;">// It supports classes, inheritance, virtual methods, etc.</span>
</div><div class="line" data-line="568">
</div><div class="line" data-line="569">    <span data-highlight="comment" style="color: #7f9f7f;">// interface with generic type</span>
</div><div class="line" data-line="570">    <span data-highlight="keyword.type" style="color: #efefaf; font-weight: bold;">type</span> <span data-highlight="type.definition" style="color: #dfe4cf; font-weight: bold;">IEnumerator</span><span data-highlight="operator" style="color: #f0efd0;">&lt;</span>&#39;a<span data-highlight="operator" style="color: #f0efd0;">&gt;</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="571">        <span data-highlight="keyword.modifier" style="color: #f0dfaf; font-weight: bold;">abstract</span> <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">member</span> <span data-highlight="function.method" style="color: #efef8f;">Current</span> <span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">:</span> <span data-highlight="type" style="color: #dfdfbf;">&#39;a</span>
</div><div class="line" data-line="572">        <span data-highlight="keyword.modifier" style="color: #f0dfaf; font-weight: bold;">abstract</span> <span data-highlight="function.method" style="color: #efef8f;">MoveNext</span> <span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">:</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type.builtin" style="color: #cfbfaf;">unit</span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type.builtin" style="color: #cfbfaf;">bool</span></span>
</div><div class="line" data-line="573">
</div><div class="line" data-line="574">    <span data-highlight="comment" style="color: #7f9f7f;">// abstract base class with virtual methods</span>
</div><div class="line" data-line="575">    <span data-highlight="punctuation.special" style="color: #cfbfaf;">[&lt;</span><span data-highlight="attribute" style="color: #ffcfaf; font-weight: bold;">AbstractClass</span><span data-highlight="punctuation.special" style="color: #cfbfaf;">&gt;]</span>
</div><div class="line" data-line="576">    <span data-highlight="keyword.type" style="color: #efefaf; font-weight: bold;">type</span> <span data-highlight="type.definition" style="color: #dfe4cf; font-weight: bold;">Shape</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="577">        <span data-highlight="comment" style="color: #7f9f7f;">// readonly properties</span>
</div><div class="line" data-line="578">        <span data-highlight="keyword.modifier" style="color: #f0dfaf; font-weight: bold;">abstract</span> <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">member</span> <span data-highlight="function.method" style="color: #efef8f;">Width</span> <span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">:</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type.builtin" style="color: #cfbfaf;">int</span></span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">with</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">get</span>
</div><div class="line" data-line="579">        <span data-highlight="keyword.modifier" style="color: #f0dfaf; font-weight: bold;">abstract</span> <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">member</span> <span data-highlight="function.method" style="color: #efef8f;">Height</span> <span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">:</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type.builtin" style="color: #cfbfaf;">int</span></span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">with</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">get</span>
</div><div class="line" data-line="580">        <span data-highlight="comment" style="color: #7f9f7f;">// non-virtual method</span>
</div><div class="line" data-line="581">        <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">member</span> <span data-highlight="function" style="color: #efef8f;"><span data-highlight="variable.parameter.builtin" style="color: #cfbfaf;">this</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span><span data-highlight="function.method" style="color: #efef8f;">BoundingArea</span></span> <span data-highlight="operator" style="color: #f0efd0;">=</span> this<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Height <span data-highlight="operator" style="color: #f0efd0;">*</span> this<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Width
</div><div class="line" data-line="582">        <span data-highlight="comment" style="color: #7f9f7f;">// virtual method with base implementation</span>
</div><div class="line" data-line="583">        <span data-highlight="keyword.modifier" style="color: #f0dfaf; font-weight: bold;">abstract</span> <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">member</span> <span data-highlight="function.method" style="color: #efef8f;">Print</span> <span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">:</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type.builtin" style="color: #cfbfaf;">unit</span></span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span> <span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type.builtin" style="color: #cfbfaf;">unit</span></span>
</div><div class="line" data-line="584">        <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">default</span> <span data-highlight="function" style="color: #efef8f;"><span data-highlight="variable.parameter.builtin" style="color: #cfbfaf;">this</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span><span data-highlight="function.method" style="color: #efef8f;">Print</span></span> <span data-highlight="constant.builtin" style="color: #cfbfaf;"><span data-highlight="variable.parameter" style="color: #efdcbc;"><span data-highlight="constant.builtin" style="color: #cfbfaf;">()</span></span></span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">printfn</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;I&#39;m a shape&quot;</span></span>
</div><div class="line" data-line="585">
</div><div class="line" data-line="586">    <span data-highlight="comment" style="color: #7f9f7f;">// concrete class that inherits from base class and overrides</span>
</div><div class="line" data-line="587">    <span data-highlight="keyword.type" style="color: #efefaf; font-weight: bold;">type</span> <span data-highlight="type.definition" style="color: #dfe4cf; font-weight: bold;">Rectangle</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable.parameter" style="color: #efdcbc;">x<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">:</span><span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type.builtin" style="color: #cfbfaf;">int</span></span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> y<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">:</span><span data-highlight="type" style="color: #dfdfbf;"><span data-highlight="type.builtin" style="color: #cfbfaf;">int</span></span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="588">        <span data-highlight="keyword.type" style="color: #efefaf; font-weight: bold;">inherit</span> <span data-highlight="type" style="color: #dfdfbf;">Shape</span><span data-highlight="constant.builtin" style="color: #cfbfaf;">()</span>
</div><div class="line" data-line="589">        <span data-highlight="keyword.modifier" style="color: #f0dfaf; font-weight: bold;">override</span> <span data-highlight="function" style="color: #efef8f;"><span data-highlight="variable.parameter.builtin" style="color: #cfbfaf;">this</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span><span data-highlight="function.method" style="color: #efef8f;">Width</span></span> <span data-highlight="operator" style="color: #f0efd0;">=</span> x
</div><div class="line" data-line="590">        <span data-highlight="keyword.modifier" style="color: #f0dfaf; font-weight: bold;">override</span> <span data-highlight="function" style="color: #efef8f;"><span data-highlight="variable.parameter.builtin" style="color: #cfbfaf;">this</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span><span data-highlight="function.method" style="color: #efef8f;">Height</span></span> <span data-highlight="operator" style="color: #f0efd0;">=</span> y
</div><div class="line" data-line="591">        <span data-highlight="keyword.modifier" style="color: #f0dfaf; font-weight: bold;">override</span> <span data-highlight="function" style="color: #efef8f;"><span data-highlight="variable.parameter.builtin" style="color: #cfbfaf;">this</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span><span data-highlight="function.method" style="color: #efef8f;">Print</span></span> <span data-highlight="constant.builtin" style="color: #cfbfaf;"><span data-highlight="variable.parameter" style="color: #efdcbc;"><span data-highlight="constant.builtin" style="color: #cfbfaf;">()</span></span></span>  <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">printfn</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;I&#39;m a Rectangle&quot;</span></span>
</div><div class="line" data-line="592">
</div><div class="line" data-line="593">    <span data-highlight="comment" style="color: #7f9f7f;">// test</span>
</div><div class="line" data-line="594">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">r</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">Rectangle</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="number" style="color: #8cd0d3;">2</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> <span data-highlight="number" style="color: #8cd0d3;">3</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span>
</div><div class="line" data-line="595">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;The width is %i&quot;</span></span></span> <span data-highlight="variable" style="color: #efdcbc;">r<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Width</span></span></span></span></span></span></span>
</div><div class="line" data-line="596"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">    <span data-highlight="variable" style="color: #efdcbc;">printfn</span> <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;The area is %i&quot;</span></span></span> <span data-highlight="variable" style="color: #efdcbc;">r<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>BoundingArea</span></span></span></span></span></span></span>
</div><div class="line" data-line="597">    <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="function.call" style="color: #efef8f;">r<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Print</span><span data-highlight="function.call" style="color: #efef8f;">()</span></span>
</div><div class="line" data-line="598">
</div><div class="line" data-line="599">    <span data-highlight="comment" style="color: #7f9f7f;">// ------- extension methods  -------</span>
</div><div class="line" data-line="600">
</div><div class="line" data-line="601">    <span data-highlight="comment" style="color: #7f9f7f;">// Just as in C#, F# can extend existing classes with extension methods.</span>
</div><div class="line" data-line="602">    <span data-highlight="keyword.type" style="color: #efefaf; font-weight: bold;">type</span> <span data-highlight="type.definition" style="color: #dfe4cf; font-weight: bold;">System<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span><span data-highlight="module.builtin" style="color: #cfbfaf;">String</span></span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">with</span>
</div><div class="line" data-line="603">       <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">member</span> <span data-highlight="function" style="color: #efef8f;"><span data-highlight="variable.parameter.builtin" style="color: #cfbfaf;">this</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span><span data-highlight="function.method" style="color: #efef8f;">StartsWithA</span></span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="function.call" style="color: #efef8f;">this<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>StartsWith</span> <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;A&quot;</span></span>
</div><div class="line" data-line="604">
</div><div class="line" data-line="605">    <span data-highlight="comment" style="color: #7f9f7f;">// test</span>
</div><div class="line" data-line="606">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">s</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="string" style="color: #cc9393;">&quot;Alice&quot;</span>
</div><div class="line" data-line="607">    <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;&#39;%s&#39; starts with an &#39;A&#39; = %A&quot;</span></span></span> <span data-highlight="variable" style="color: #efdcbc;">s</span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">s<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>StartsWithA</span>
</div><div class="line" data-line="608">
</div><div class="line" data-line="609">    <span data-highlight="comment" style="color: #7f9f7f;">// ------- events  -------</span>
</div><div class="line" data-line="610">
</div><div class="line" data-line="611">    <span data-highlight="keyword.type" style="color: #efefaf; font-weight: bold;">type</span> <span data-highlight="type.definition" style="color: #dfe4cf; font-weight: bold;">MyButton</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="612">        <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">clickEvent</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">new</span> <span data-highlight="function.call" style="color: #efef8f;">Event<span data-highlight="operator" style="color: #f0efd0;">&lt;</span><span data-highlight="type" style="color: #dfdfbf;">_</span><span data-highlight="operator" style="color: #f0efd0;">&gt;</span></span><span data-highlight="function.call" style="color: #efef8f;">()</span>
</div><div class="line" data-line="613">
</div><div class="line" data-line="614">        <span data-highlight="punctuation.special" style="color: #cfbfaf;">[&lt;</span><span data-highlight="attribute" style="color: #ffcfaf; font-weight: bold;">CLIEvent</span><span data-highlight="punctuation.special" style="color: #cfbfaf;">&gt;]</span>
</div><div class="line" data-line="615">        <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">member</span> <span data-highlight="function" style="color: #efef8f;"><span data-highlight="variable.parameter.builtin" style="color: #cfbfaf;">this</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span><span data-highlight="function.method" style="color: #efef8f;">OnClick</span></span> <span data-highlight="operator" style="color: #f0efd0;">=</span> clickEvent<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Publish
</div><div class="line" data-line="616">
</div><div class="line" data-line="617">        <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">member</span> <span data-highlight="function" style="color: #efef8f;"><span data-highlight="variable.parameter.builtin" style="color: #cfbfaf;">this</span><span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span><span data-highlight="function.method" style="color: #efef8f;">TestEvent</span></span><span data-highlight="variable.parameter" style="color: #efdcbc;"><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span>arg<span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span> <span data-highlight="operator" style="color: #f0efd0;">=</span>
</div><div class="line" data-line="618">            <span data-highlight="function.call" style="color: #efef8f;">clickEvent<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Trigger</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;">this<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> arg</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span>
</div><div class="line" data-line="619">
</div><div class="line" data-line="620">    <span data-highlight="comment" style="color: #7f9f7f;">// test</span>
</div><div class="line" data-line="621">    <span data-highlight="keyword.function" style="color: #f0dfaf; font-weight: bold;">let</span> <span data-highlight="variable" style="color: #efdcbc;">myButton</span> <span data-highlight="operator" style="color: #f0efd0;">=</span> <span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">new</span> <span data-highlight="function.call" style="color: #efef8f;">MyButton</span><span data-highlight="function.call" style="color: #efef8f;">()</span>
</div><div class="line" data-line="622">    <span data-highlight="variable.member" style="color: #efdcbc;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">myButton<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>OnClick<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>Add<span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="keyword" style="color: #f0dfaf; font-weight: bold;">fun</span> <span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable.parameter" style="color: #efdcbc;">sender<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">,</span> arg</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span> <span data-highlight="operator" style="color: #f0efd0;">-&gt;</span></span></span></span></span>
</div><div class="line" data-line="623"><span data-highlight="variable.member" style="color: #efdcbc;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="variable" style="color: #efdcbc;">            <span data-highlight="function.call" style="color: #efef8f;"><span data-highlight="function.call" style="color: #efef8f;">printfn <span data-highlight="constant" style="color: #dca3a3; font-weight: bold;"><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;Click event with arg=%O&quot;</span></span></span></span></span> <span data-highlight="variable" style="color: #efdcbc;">arg</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span></span></span>
</div><div class="line" data-line="624">
</div><div class="line" data-line="625">    <span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="function.call" style="color: #efef8f;">myButton<span data-highlight="punctuation.delimiter" style="color: #8f8f8f;">.</span>TestEvent</span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">(</span><span data-highlight="variable" style="color: #efdcbc;"><span data-highlight="string" style="color: #cc9393;">&quot;Hello World!&quot;</span></span><span data-highlight="punctuation.bracket" style="color: #8f8f8f;">)</span></span>
</div></code></pre>