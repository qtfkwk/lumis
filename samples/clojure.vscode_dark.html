<pre class="lumis w-full overflow-auto rounded-lg p-8 font-mono text-sm antialiased leading-6" style="color: #d4d4d4; background-color: #1f1f1f;"><code class="language-clojure" translate="no" tabindex="0"><div class="line" data-line="1"><span data-highlight="comment" style="color: #6a9955;">;; Comments</span>
</div><div class="line" data-line="2"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Comments start with semicolons</span>
</div><div class="line" data-line="3"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Clojure is written in &quot;forms&quot;, which are lists of things inside parentheses</span>
</div><div class="line" data-line="4"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="5"><span data-highlight="comment" style="color: #6a9955;">;; Namespace</span>
</div><div class="line" data-line="6"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">ns</span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="module" style="color: #4ec9b0;">clojure-sample</span></span>
</div><div class="line" data-line="7">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">:require</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="type" style="color: #4ec9b0;"><span data-highlight="function.method" style="color: #dcdcaa;">clojure.string</span></span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:as</span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">str</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="8">
</div><div class="line" data-line="9"><span data-highlight="comment" style="color: #6a9955;">;; You call java methods using the . shorthand</span>
</div><div class="line" data-line="10"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="type" style="color: #4ec9b0;"><span data-highlight="function.method" style="color: #dcdcaa;">java.util.Date.</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="11">
</div><div class="line" data-line="12"><span data-highlight="comment" style="color: #6a9955;">;; Literals</span>
</div><div class="line" data-line="13"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Numbers</span>
</div><div class="line" data-line="14"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="number" style="color: #b5cea8;">42</span>      <span data-highlight="comment" style="color: #6a9955;">; integer</span>
</div><div class="line" data-line="15"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="number" style="color: #b5cea8;">6.022e23</span> <span data-highlight="comment" style="color: #6a9955;">; float</span>
</div><div class="line" data-line="16"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="number" style="color: #b5cea8;">22/7</span>    <span data-highlight="comment" style="color: #6a9955;">; rational</span>
</div><div class="line" data-line="17"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="number" style="color: #b5cea8;">0xff</span>    <span data-highlight="comment" style="color: #6a9955;">; hex</span>
</div><div class="line" data-line="18"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="number" style="color: #b5cea8;">0</span><span data-highlight="function.method" style="color: #dcdcaa;">b1011</span>  <span data-highlight="comment" style="color: #6a9955;">; binary</span>
</div><div class="line" data-line="19"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="20"><span data-highlight="comment" style="color: #6a9955;">; Strings are always double-quoted</span>
</div><div class="line" data-line="21"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="string" style="color: #ce9178;">&quot;Hello world&quot;</span>
</div><div class="line" data-line="22">
</div><div class="line" data-line="23"><span data-highlight="comment" style="color: #6a9955;">; Characters are preceded by backslashes</span>
</div><div class="line" data-line="24"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="character" style="color: #ce9178;">\g</span> <span data-highlight="character" style="color: #ce9178;">\r</span> <span data-highlight="character" style="color: #ce9178;">\a</span> <span data-highlight="character" style="color: #ce9178;">\c</span> <span data-highlight="character" style="color: #ce9178;">\e</span>
</div><div class="line" data-line="25">
</div><div class="line" data-line="26"><span data-highlight="comment" style="color: #6a9955;">; Keywords start with colons</span>
</div><div class="line" data-line="27"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">:a</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:b</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:c</span>
</div><div class="line" data-line="28">
</div><div class="line" data-line="29"><span data-highlight="comment" style="color: #6a9955;">; Symbols are used to name variables and functions</span>
</div><div class="line" data-line="30"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="string.escape" style="color: #d4d4d4;">&#39;</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">a</span> <span data-highlight="string.escape" style="color: #d4d4d4;">&#39;</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">b</span> <span data-highlight="string.escape" style="color: #d4d4d4;">&#39;</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">c</span>
</div><div class="line" data-line="31">
</div><div class="line" data-line="32"><span data-highlight="comment" style="color: #6a9955;">; Vectors are linear collections</span>
</div><div class="line" data-line="33"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span> <span data-highlight="number" style="color: #b5cea8;">4</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span>
</div><div class="line" data-line="34">
</div><div class="line" data-line="35"><span data-highlight="comment" style="color: #6a9955;">; Lists are linked-list data structures</span>
</div><div class="line" data-line="36"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="string.escape" style="color: #d4d4d4;">&#39;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span> <span data-highlight="number" style="color: #b5cea8;">4</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="37">
</div><div class="line" data-line="38"><span data-highlight="comment" style="color: #6a9955;">; Maps are associative data structures</span>
</div><div class="line" data-line="39"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&lbrace;</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">:name</span> <span data-highlight="string" style="color: #ce9178;">&quot;John&quot;</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:age</span> <span data-highlight="number" style="color: #b5cea8;">30</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&rbrace;</span>
</div><div class="line" data-line="40">
</div><div class="line" data-line="41"><span data-highlight="comment" style="color: #6a9955;">; Sets are collections of unique values</span>
</div><div class="line" data-line="42"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.special" style="color: #d4d4d4;">#</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&lbrace;</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&rbrace;</span>
</div><div class="line" data-line="43">
</div><div class="line" data-line="44"><span data-highlight="comment" style="color: #6a9955;">;; Functions</span>
</div><div class="line" data-line="45"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Functions are called like this:</span>
</div><div class="line" data-line="46"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">str</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;Hello&quot;</span> <span data-highlight="string" style="color: #ce9178;">&quot; &quot;</span> <span data-highlight="string" style="color: #ce9178;">&quot;World&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;Hello World&quot;</span>
</div><div class="line" data-line="47"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="48"><span data-highlight="comment" style="color: #6a9955;">; Math is straightforward</span>
</div><div class="line" data-line="49"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="operator" style="color: #d4d4d4;">+</span> <span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">1</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; 2</span>
</div><div class="line" data-line="50"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="operator" style="color: #d4d4d4;">-</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">1</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; 1</span>
</div><div class="line" data-line="51"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="operator" style="color: #d4d4d4;">*</span> <span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; 2</span>
</div><div class="line" data-line="52"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="operator" style="color: #d4d4d4;">/</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">1</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; 2</span>
</div><div class="line" data-line="53"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="54"><span data-highlight="comment" style="color: #6a9955;">; Equality is =</span>
</div><div class="line" data-line="55"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="operator" style="color: #d4d4d4;">=</span> <span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">1</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; true</span>
</div><div class="line" data-line="56"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="operator" style="color: #d4d4d4;">=</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">1</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; false</span>
</div><div class="line" data-line="57"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="58"><span data-highlight="comment" style="color: #6a9955;">; You need not for logic, too</span>
</div><div class="line" data-line="59"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.operator" style="color: #569cd6;">not</span></span> <span data-highlight="boolean" style="color: #569cd6;">true</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; false</span>
</div><div class="line" data-line="60"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="61"><span data-highlight="comment" style="color: #6a9955;">; Nesting forms works as you expect</span>
</div><div class="line" data-line="62"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="operator" style="color: #d4d4d4;">+</span> <span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="operator" style="color: #d4d4d4;">-</span> <span data-highlight="number" style="color: #b5cea8;">3</span> <span data-highlight="number" style="color: #b5cea8;">2</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; = 1 + (3 - 2) = 2</span>
</div><div class="line" data-line="63"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="64"><span data-highlight="comment" style="color: #6a9955;">; Collections</span>
</div><div class="line" data-line="65"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Lists are linked-list data structures</span>
</div><div class="line" data-line="66"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="string.escape" style="color: #d4d4d4;">&#39;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="operator" style="color: #d4d4d4;">+</span> <span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; (+ 1 2)</span>
</div><div class="line" data-line="67"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; (you&#39;d get back the unevaluated list)</span>
</div><div class="line" data-line="68"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="69"><span data-highlight="comment" style="color: #6a9955;">; Vectors and lists are java classes too!</span>
</div><div class="line" data-line="70"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">class</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; clojure.lang.PersistentVector</span>
</div><div class="line" data-line="71"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">class</span></span> <span data-highlight="string.escape" style="color: #d4d4d4;">&#39;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; clojure.lang.PersistentList</span>
</div><div class="line" data-line="72"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="73"><span data-highlight="comment" style="color: #6a9955;">; A list would be written as just (1 2 3), but we have to quote it</span>
</div><div class="line" data-line="74"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; to stop the reader thinking it&#39;s a function.</span>
</div><div class="line" data-line="75"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Also, (list 1 2 3) is the same as &#39;(1 2 3)</span>
</div><div class="line" data-line="76"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="77"><span data-highlight="comment" style="color: #6a9955;">; You can have a mixed-type collection</span>
</div><div class="line" data-line="78"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="string" style="color: #ce9178;">&quot;hello&quot;</span> <span data-highlight="number" style="color: #b5cea8;">3.14</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span>
</div><div class="line" data-line="79">
</div><div class="line" data-line="80"><span data-highlight="comment" style="color: #6a9955;">; Use conj to add items to the beginning of lists or the end of vectors</span>
</div><div class="line" data-line="81"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">conj</span></span> <span data-highlight="string.escape" style="color: #d4d4d4;">&#39;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="number" style="color: #b5cea8;">4</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; (4 1 2 3)</span>
</div><div class="line" data-line="82"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">conj</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span> <span data-highlight="number" style="color: #b5cea8;">4</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; [1 2 3 4]</span>
</div><div class="line" data-line="83"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="84"><span data-highlight="comment" style="color: #6a9955;">; Use concat to add lists or vectors together</span>
</div><div class="line" data-line="85"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">concat</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span> <span data-highlight="string.escape" style="color: #d4d4d4;">&#39;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="number" style="color: #b5cea8;">3</span> <span data-highlight="number" style="color: #b5cea8;">4</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; (1 2 3 4)</span>
</div><div class="line" data-line="86"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="87"><span data-highlight="comment" style="color: #6a9955;">; Use filter, map to interact with collections</span>
</div><div class="line" data-line="88"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">map</span></span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">inc</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; (2 3 4)</span>
</div><div class="line" data-line="89"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">filter</span></span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">even?</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; (2)</span>
</div><div class="line" data-line="90"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="91"><span data-highlight="comment" style="color: #6a9955;">; Use reduce to reduce collections</span>
</div><div class="line" data-line="92"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">reduce</span></span> <span data-highlight="operator" style="color: #d4d4d4;">+</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span> <span data-highlight="number" style="color: #b5cea8;">4</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="93"><span data-highlight="comment" style="color: #6a9955;">; = (+ (+ (+ 1 2) 3) 4)</span>
</div><div class="line" data-line="94"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; =&gt; 10</span>
</div><div class="line" data-line="95"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="96"><span data-highlight="comment" style="color: #6a9955;">; Reduce can take an initial-value argument too</span>
</div><div class="line" data-line="97"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">reduce</span></span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">conj</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span> <span data-highlight="string.escape" style="color: #d4d4d4;">&#39;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="number" style="color: #b5cea8;">3</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">1</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="98"><span data-highlight="comment" style="color: #6a9955;">; = (conj (conj (conj [] 3) 2) 1)</span>
</div><div class="line" data-line="99"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; =&gt; [3 2 1]</span>
</div><div class="line" data-line="100"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="101"><span data-highlight="comment" style="color: #6a9955;">;; Functions</span>
</div><div class="line" data-line="102"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Use fn to create new functions. A function always returns its last statement.</span>
</div><div class="line" data-line="103"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.function" style="color: #569cd6;"><span data-highlight="function" style="color: #dcdcaa;">fn</span></span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span> <span data-highlight="string" style="color: #ce9178;">&quot;Hello World&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; fn</span>
</div><div class="line" data-line="104"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="105"><span data-highlight="comment" style="color: #6a9955;">; (You need extra parens to call it)</span>
</div><div class="line" data-line="106"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.function" style="color: #569cd6;"><span data-highlight="function" style="color: #dcdcaa;">fn</span></span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span> <span data-highlight="string" style="color: #ce9178;">&quot;Hello World&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;Hello World&quot;</span>
</div><div class="line" data-line="107"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="108"><span data-highlight="comment" style="color: #6a9955;">; You can create a var using def</span>
</div><div class="line" data-line="109"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">def</span></span> <span data-highlight="variable" style="color: #9cdcfe;">x</span> <span data-highlight="number" style="color: #b5cea8;">1</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="110"><span data-highlight="variable" style="color: #9cdcfe;">x</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; 1</span>
</div><div class="line" data-line="111"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="112"><span data-highlight="comment" style="color: #6a9955;">; Assign a function to a var</span>
</div><div class="line" data-line="113"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">def</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">hello-world</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.function" style="color: #569cd6;"><span data-highlight="function" style="color: #dcdcaa;">fn</span></span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span> <span data-highlight="string" style="color: #ce9178;">&quot;Hello World&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="114"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">hello-world</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;Hello World&quot;</span>
</div><div class="line" data-line="115"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="116"><span data-highlight="comment" style="color: #6a9955;">; You can shorten this process by using defn</span>
</div><div class="line" data-line="117"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.function" style="color: #569cd6;"><span data-highlight="function" style="color: #dcdcaa;">defn</span></span></span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function" style="color: #dcdcaa;">hello-world</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span> <span data-highlight="string" style="color: #ce9178;">&quot;Hello World&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="118">
</div><div class="line" data-line="119"><span data-highlight="comment" style="color: #6a9955;">; The [] is the list of arguments for the function.</span>
</div><div class="line" data-line="120"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.function" style="color: #569cd6;"><span data-highlight="function" style="color: #dcdcaa;">defn</span></span></span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function" style="color: #dcdcaa;">hello</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">name</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span>
</div><div class="line" data-line="121">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">str</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;Hello &quot;</span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">name</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="122"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">hello</span> <span data-highlight="string" style="color: #ce9178;">&quot;Steve&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;Hello Steve&quot;</span>
</div><div class="line" data-line="123"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="124"><span data-highlight="comment" style="color: #6a9955;">; You can also use this shorthand to create functions:</span>
</div><div class="line" data-line="125"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">def</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">hello2</span> <span data-highlight="punctuation.special" style="color: #d4d4d4;">#</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">str</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;Hello &quot;</span> <span data-highlight="function.method" style="color: #dcdcaa;">%1</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="126"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">hello2</span> <span data-highlight="string" style="color: #ce9178;">&quot;Fanny&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;Hello Fanny&quot;</span>
</div><div class="line" data-line="127"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="128"><span data-highlight="comment" style="color: #6a9955;">; You can have multi-variadic functions, too</span>
</div><div class="line" data-line="129"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.function" style="color: #569cd6;"><span data-highlight="function" style="color: #dcdcaa;">defn</span></span></span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function" style="color: #dcdcaa;">hello3</span></span>
</div><div class="line" data-line="130">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span> <span data-highlight="string" style="color: #ce9178;">&quot;Hello World&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="131">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">name</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">str</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;Hello &quot;</span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">name</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="132"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">hello3</span> <span data-highlight="string" style="color: #ce9178;">&quot;Jake&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;Hello Jake&quot;</span>
</div><div class="line" data-line="133"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">hello3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;Hello World&quot;</span>
</div><div class="line" data-line="134"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="135"><span data-highlight="comment" style="color: #6a9955;">; Functions can pack extra arguments up in a seq for you</span>
</div><div class="line" data-line="136"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.function" style="color: #569cd6;"><span data-highlight="function" style="color: #dcdcaa;">defn</span></span></span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function" style="color: #dcdcaa;">count-args</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="variable.parameter" style="color: #9cdcfe;">&amp;</span> <span data-highlight="function.method" style="color: #dcdcaa;">args</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span>
</div><div class="line" data-line="137">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">str</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;You passed &quot;</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">count</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">args</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="string" style="color: #ce9178;">&quot; args: &quot;</span> <span data-highlight="function.method" style="color: #dcdcaa;">args</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="138"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">count-args</span> <span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;You passed 3 args: (1 2 3)&quot;</span>
</div><div class="line" data-line="139"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="140"><span data-highlight="comment" style="color: #6a9955;">; You can mix regular and packed arguments</span>
</div><div class="line" data-line="141"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.function" style="color: #569cd6;"><span data-highlight="function" style="color: #dcdcaa;">defn</span></span></span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function" style="color: #dcdcaa;">hello-count</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">name</span></span> <span data-highlight="variable.parameter" style="color: #9cdcfe;">&amp;</span> <span data-highlight="function.method" style="color: #dcdcaa;">args</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span>
</div><div class="line" data-line="142">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">str</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;Hello &quot;</span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">name</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;, you passed &quot;</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">count</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">args</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="string" style="color: #ce9178;">&quot; extra args&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="143"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">hello-count</span> <span data-highlight="string" style="color: #ce9178;">&quot;Finn&quot;</span> <span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="144"><span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;Hello Finn, you passed 3 extra args&quot;</span>
</div><div class="line" data-line="145"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="146"><span data-highlight="comment" style="color: #6a9955;">;; Maps</span>
</div><div class="line" data-line="147"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Hash maps and array maps share an interface. Hash maps have faster lookups</span>
</div><div class="line" data-line="148"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; but don&#39;t retain key order.</span>
</div><div class="line" data-line="149"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">class</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&lbrace;</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">:a</span> <span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:b</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:c</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; clojure.lang.PersistentArrayMap</span>
</div><div class="line" data-line="150"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">class</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">hash-map</span></span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:a</span> <span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:b</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:c</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; clojure.lang.PersistentHashMap</span>
</div><div class="line" data-line="151"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="152"><span data-highlight="comment" style="color: #6a9955;">; Array maps will automatically become hash maps through most operations</span>
</div><div class="line" data-line="153"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; if they get big enough, so you don&#39;t need to worry.</span>
</div><div class="line" data-line="154"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="155"><span data-highlight="comment" style="color: #6a9955;">; Maps can use any hashable type as a key, but usually keywords are best</span>
</div><div class="line" data-line="156"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Keywords are like strings but more efficient</span>
</div><div class="line" data-line="157"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">class</span></span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:a</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; clojure.lang.Keyword</span>
</div><div class="line" data-line="158"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="159"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">def</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">stringmap</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&lbrace;</span><span data-highlight="string" style="color: #ce9178;">&quot;a&quot;</span> <span data-highlight="number" style="color: #b5cea8;">1</span>, <span data-highlight="string" style="color: #ce9178;">&quot;b&quot;</span> <span data-highlight="number" style="color: #b5cea8;">2</span>, <span data-highlight="string" style="color: #ce9178;">&quot;c&quot;</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="160"><span data-highlight="function.method" style="color: #dcdcaa;">stringmap</span>  <span data-highlight="comment" style="color: #6a9955;">; =&gt; &lbrace;&quot;a&quot; 1, &quot;b&quot; 2, &quot;c&quot; 3&rbrace;</span>
</div><div class="line" data-line="161"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="162"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">def</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">keymap</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&lbrace;</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">:a</span> <span data-highlight="number" style="color: #b5cea8;">1</span>, <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:b</span> <span data-highlight="number" style="color: #b5cea8;">2</span>, <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:c</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="163"><span data-highlight="function.method" style="color: #dcdcaa;">keymap</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &lbrace;:a 1, :c 3, :b 2&rbrace;</span>
</div><div class="line" data-line="164"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="165"><span data-highlight="comment" style="color: #6a9955;">; By the way, commas are always treated as whitespace and do nothing.</span>
</div><div class="line" data-line="166"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="167"><span data-highlight="comment" style="color: #6a9955;">; Retrieve a value from a map by calling it as a function</span>
</div><div class="line" data-line="168"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">stringmap</span> <span data-highlight="string" style="color: #ce9178;">&quot;a&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; 1</span>
</div><div class="line" data-line="169"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">keymap</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:a</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; 1</span>
</div><div class="line" data-line="170"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="171"><span data-highlight="comment" style="color: #6a9955;">; Keywords can be used to retrieve their value from a map, too!</span>
</div><div class="line" data-line="172"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">:b</span> <span data-highlight="function.method" style="color: #dcdcaa;">keymap</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; 2</span>
</div><div class="line" data-line="173"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="174"><span data-highlight="comment" style="color: #6a9955;">; Don&#39;t try this with strings.</span>
</div><div class="line" data-line="175"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">;(&quot;a&quot; stringmap)</span>
</div><div class="line" data-line="176"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; =&gt; Exception: java.lang.String cannot be cast to clojure.lang.IFn</span>
</div><div class="line" data-line="177"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="178"><span data-highlight="comment" style="color: #6a9955;">; Retrieving a non-present key returns nil</span>
</div><div class="line" data-line="179"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">stringmap</span> <span data-highlight="string" style="color: #ce9178;">&quot;d&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; nil</span>
</div><div class="line" data-line="180"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="181"><span data-highlight="comment" style="color: #6a9955;">; Use assoc to add new keys to hash-maps</span>
</div><div class="line" data-line="182"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">def</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">newkeymap</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">assoc</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">keymap</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:d</span> <span data-highlight="number" style="color: #b5cea8;">4</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="183"><span data-highlight="function.method" style="color: #dcdcaa;">newkeymap</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &lbrace;:a 1, :b 2, :c 3, :d 4&rbrace;</span>
</div><div class="line" data-line="184"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="185"><span data-highlight="comment" style="color: #6a9955;">; But remember, clojure types are immutable!</span>
</div><div class="line" data-line="186"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="function.method" style="color: #dcdcaa;">keymap</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &lbrace;:a 1, :b 2, :c 3&rbrace;</span>
</div><div class="line" data-line="187"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="188"><span data-highlight="comment" style="color: #6a9955;">; Use dissoc to remove keys</span>
</div><div class="line" data-line="189"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">dissoc</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">keymap</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:a</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:b</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &lbrace;:c 3&rbrace;</span>
</div><div class="line" data-line="190"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="191"><span data-highlight="comment" style="color: #6a9955;">;; Sets</span>
</div><div class="line" data-line="192"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.special" style="color: #d4d4d4;">#</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&lbrace;</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&rbrace;</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; #&lbrace;1 2 3&rbrace;</span>
</div><div class="line" data-line="193"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="194"><span data-highlight="comment" style="color: #6a9955;">; Add a member with conj</span>
</div><div class="line" data-line="195"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">conj</span></span> <span data-highlight="punctuation.special" style="color: #d4d4d4;">#</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&lbrace;</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&rbrace;</span> <span data-highlight="number" style="color: #b5cea8;">4</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; #&lbrace;1 2 3 4&rbrace;</span>
</div><div class="line" data-line="196"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="197"><span data-highlight="comment" style="color: #6a9955;">; Remove one with disj</span>
</div><div class="line" data-line="198"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">disj</span></span> <span data-highlight="punctuation.special" style="color: #d4d4d4;">#</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&lbrace;</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&rbrace;</span> <span data-highlight="number" style="color: #b5cea8;">1</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; #&lbrace;2 3&rbrace;</span>
</div><div class="line" data-line="199"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="200"><span data-highlight="comment" style="color: #6a9955;">; Test for existence by using the set as a function:</span>
</div><div class="line" data-line="201"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="punctuation.special" style="color: #d4d4d4;">#</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&lbrace;</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&rbrace;</span> <span data-highlight="number" style="color: #b5cea8;">1</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; 1</span>
</div><div class="line" data-line="202"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="punctuation.special" style="color: #d4d4d4;">#</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&lbrace;</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&rbrace;</span> <span data-highlight="number" style="color: #b5cea8;">4</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; nil</span>
</div><div class="line" data-line="203"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="204"><span data-highlight="comment" style="color: #6a9955;">; There are more functions in the clojure.sets namespace.</span>
</div><div class="line" data-line="205"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="206"><span data-highlight="comment" style="color: #6a9955;">;; Control Flow</span>
</div><div class="line" data-line="207"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Use if for conditional logic</span>
</div><div class="line" data-line="208"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.conditional" style="color: #c586c0;">if</span></span> <span data-highlight="boolean" style="color: #569cd6;">false</span> <span data-highlight="string" style="color: #ce9178;">&quot;a&quot;</span> <span data-highlight="string" style="color: #ce9178;">&quot;b&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;b&quot;</span>
</div><div class="line" data-line="209"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.conditional" style="color: #c586c0;">if</span></span> <span data-highlight="boolean" style="color: #569cd6;">false</span> <span data-highlight="string" style="color: #ce9178;">&quot;a&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; nil</span>
</div><div class="line" data-line="210"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="211"><span data-highlight="comment" style="color: #6a9955;">; Use let to create temporary bindings</span>
</div><div class="line" data-line="212"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.macro" style="color: #dcdcaa;">let</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="variable" style="color: #9cdcfe;">a</span> <span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="variable" style="color: #9cdcfe;">b</span> <span data-highlight="number" style="color: #b5cea8;">2</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span>
</div><div class="line" data-line="213">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="operator" style="color: #d4d4d4;">&gt;</span> <span data-highlight="variable" style="color: #9cdcfe;">a</span> <span data-highlight="variable" style="color: #9cdcfe;">b</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; false</span>
</div><div class="line" data-line="214"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="215"><span data-highlight="comment" style="color: #6a9955;">; Group statements together with do</span>
</div><div class="line" data-line="216"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.macro" style="color: #dcdcaa;">do</span></span>
</div><div class="line" data-line="217">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">print</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;Hello&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="218">  <span data-highlight="string" style="color: #ce9178;">&quot;World&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;World&quot; (prints &quot;Hello&quot;)</span>
</div><div class="line" data-line="219"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="220"><span data-highlight="comment" style="color: #6a9955;">; Functions have an implicit do</span>
</div><div class="line" data-line="221"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.function" style="color: #569cd6;"><span data-highlight="function" style="color: #dcdcaa;">defn</span></span></span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function" style="color: #dcdcaa;">print-and-say-hello</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">name</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span>
</div><div class="line" data-line="222">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">print</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;Saying hello to &quot;</span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">name</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="223">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">str</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;Hello &quot;</span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">name</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="224"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">print-and-say-hello</span> <span data-highlight="string" style="color: #ce9178;">&quot;Jeff&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;Hello Jeff&quot; (prints &quot;Saying hello to Jeff&quot;)</span>
</div><div class="line" data-line="225"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="226"><span data-highlight="comment" style="color: #6a9955;">; So does let</span>
</div><div class="line" data-line="227"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.macro" style="color: #dcdcaa;">let</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">name</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;Urkel&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span>
</div><div class="line" data-line="228">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">print</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;Saying hello to &quot;</span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">name</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="229">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">str</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;Hello &quot;</span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">name</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;Hello Urkel&quot; (prints &quot;Saying hello to Urkel&quot;)</span>
</div><div class="line" data-line="230"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="231"><span data-highlight="comment" style="color: #6a9955;">;; Threading Macros</span>
</div><div class="line" data-line="232"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; The -&gt; macro threads values through forms by inserting each into the second position</span>
</div><div class="line" data-line="233"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.macro" style="color: #dcdcaa;">-&gt;</span></span>  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&lbrace;</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">:a</span> <span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:b</span> <span data-highlight="number" style="color: #b5cea8;">2</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&rbrace;</span> 
</div><div class="line" data-line="234">     <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">assoc</span></span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:c</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> 
</div><div class="line" data-line="235">     <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">dissoc</span></span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:b</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &lbrace;:a 1, :c 3&rbrace;</span>
</div><div class="line" data-line="236"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="237"><span data-highlight="comment" style="color: #6a9955;">; The -&gt;&gt; macro threads values through forms by inserting each into the last position</span>
</div><div class="line" data-line="238"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.macro" style="color: #dcdcaa;">-&gt;&gt;</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span> <span data-highlight="number" style="color: #b5cea8;">4</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span>
</div><div class="line" data-line="239">     <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">map</span></span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">inc</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="240">     <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">filter</span></span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">even?</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; (2 4)</span>
</div><div class="line" data-line="241"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="242"><span data-highlight="comment" style="color: #6a9955;">;; Higher-order functions</span>
</div><div class="line" data-line="243"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Use partial to create new functions from existing ones</span>
</div><div class="line" data-line="244"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">def</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">add-to-hundred</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">partial</span></span> <span data-highlight="operator" style="color: #d4d4d4;">+</span> <span data-highlight="number" style="color: #b5cea8;">100</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="245"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">add-to-hundred</span> <span data-highlight="number" style="color: #b5cea8;">50</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; 150</span>
</div><div class="line" data-line="246"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="247"><span data-highlight="comment" style="color: #6a9955;">; Use comp to compose functions</span>
</div><div class="line" data-line="248"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">def</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">neg-square-sum</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">comp</span></span> <span data-highlight="operator" style="color: #d4d4d4;">-</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">partial</span></span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">apply</span></span> <span data-highlight="operator" style="color: #d4d4d4;">+</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">partial</span></span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">map</span></span> <span data-highlight="punctuation.special" style="color: #d4d4d4;">#</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="operator" style="color: #d4d4d4;">*</span> <span data-highlight="variable.builtin" style="color: #569cd6;">%</span> <span data-highlight="variable.builtin" style="color: #569cd6;">%</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="249"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">neg-square-sum</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; -14</span>
</div><div class="line" data-line="250"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="251"><span data-highlight="comment" style="color: #6a9955;">;; Atoms</span>
</div><div class="line" data-line="252"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Create an atom using atom and update it with swap!</span>
</div><div class="line" data-line="253"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">def</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">my-atom</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">atom</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&lbrace;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="254">
</div><div class="line" data-line="255"><span data-highlight="comment" style="color: #6a9955;">; Update an atom with swap!</span>
</div><div class="line" data-line="256"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">swap!</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">my-atom</span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">assoc</span></span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:a</span> <span data-highlight="number" style="color: #b5cea8;">1</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &lbrace;:a 1&rbrace;</span>
</div><div class="line" data-line="257"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="258"><span data-highlight="comment" style="color: #6a9955;">; Access the value of an atom with deref or @</span>
</div><div class="line" data-line="259"><span data-highlight="comment" style="color: #6a9955;"></span>@<span data-highlight="function.method" style="color: #dcdcaa;">my-atom</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &lbrace;:a 1&rbrace;</span>
</div><div class="line" data-line="260"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">deref</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">my-atom</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &lbrace;:a 1&rbrace;</span>
</div><div class="line" data-line="261"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="262"><span data-highlight="comment" style="color: #6a9955;">;; Exception handling</span>
</div><div class="line" data-line="263"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.exception" style="color: #c586c0;">try</span></span>
</div><div class="line" data-line="264">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="operator" style="color: #d4d4d4;">/</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">0</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="265">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.exception" style="color: #c586c0;">catch</span></span> <span data-highlight="type" style="color: #4ec9b0;"><span data-highlight="function.method" style="color: #dcdcaa;">ArithmeticException</span></span> <span data-highlight="variable" style="color: #9cdcfe;">e</span>
</div><div class="line" data-line="266">    <span data-highlight="string" style="color: #ce9178;">&quot;Cannot divide by zero!&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="267"><span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;Cannot divide by zero!&quot;</span>
</div><div class="line" data-line="268"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="269"><span data-highlight="comment" style="color: #6a9955;">;; Sequences</span>
</div><div class="line" data-line="270"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Sequences are a logical list interface that many data structures implement</span>
</div><div class="line" data-line="271"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">seq</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; (1 2 3)</span>
</div><div class="line" data-line="272"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">seq</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;abc&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; (\a \b \c)</span>
</div><div class="line" data-line="273"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="274"><span data-highlight="comment" style="color: #6a9955;">; first and rest work on sequences</span>
</div><div class="line" data-line="275"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">first</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; 1</span>
</div><div class="line" data-line="276"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">rest</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; (2 3)</span>
</div><div class="line" data-line="277"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="278"><span data-highlight="comment" style="color: #6a9955;">; cons adds an item to the beginning of a list or vector</span>
</div><div class="line" data-line="279"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">cons</span></span> <span data-highlight="number" style="color: #b5cea8;">0</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; (0 1 2 3)</span>
</div><div class="line" data-line="280"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="281"><span data-highlight="comment" style="color: #6a9955;">;; Lazy sequences</span>
</div><div class="line" data-line="282"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Clojure supports lazy sequences</span>
</div><div class="line" data-line="283"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">range</span></span> <span data-highlight="number" style="color: #b5cea8;">5</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; (0 1 2 3 4)</span>
</div><div class="line" data-line="284"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">range</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; (0 1 2 3 4 5 6 7 8 9 ...)  ; infinite sequence</span>
</div><div class="line" data-line="285"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="286"><span data-highlight="comment" style="color: #6a9955;">; Take and drop work with lazy sequences</span>
</div><div class="line" data-line="287"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">take</span></span> <span data-highlight="number" style="color: #b5cea8;">5</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">range</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; (0 1 2 3 4)</span>
</div><div class="line" data-line="288"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">drop</span></span> <span data-highlight="number" style="color: #b5cea8;">5</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">range</span></span> <span data-highlight="number" style="color: #b5cea8;">10</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; (5 6 7 8 9)</span>
</div><div class="line" data-line="289"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="290"><span data-highlight="comment" style="color: #6a9955;">;; Java Interop</span>
</div><div class="line" data-line="291"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; You can call static methods</span>
</div><div class="line" data-line="292"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">System/currentTimeMillis</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="293">
</div><div class="line" data-line="294"><span data-highlight="comment" style="color: #6a9955;">; Use / to call static methods</span>
</div><div class="line" data-line="295"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="operator" style="color: #d4d4d4;">/</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">System/currentTimeMillis</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="number" style="color: #b5cea8;">1000</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="296">
</div><div class="line" data-line="297"><span data-highlight="comment" style="color: #6a9955;">; Use . to call instance methods. Or, use the .method shortcut</span>
</div><div class="line" data-line="298"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.call" style="color: #dcdcaa;"><span data-highlight="function.macro" style="color: #dcdcaa;">.</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="type" style="color: #4ec9b0;"><span data-highlight="function.method" style="color: #dcdcaa;">java.util.Date.</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="function.method" style="color: #dcdcaa;">getTime</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="299"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">.getTime</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="type" style="color: #4ec9b0;"><span data-highlight="function.method" style="color: #dcdcaa;">java.util.Date.</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="300">
</div><div class="line" data-line="301"><span data-highlight="comment" style="color: #6a9955;">; Use doto to make dealing with (mutable) classes more tolerable</span>
</div><div class="line" data-line="302"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.macro" style="color: #dcdcaa;">doto</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">new</span> <span data-highlight="type" style="color: #4ec9b0;"><span data-highlight="function.method" style="color: #dcdcaa;">java.util.HashMap</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">.put</span> <span data-highlight="string" style="color: #ce9178;">&quot;a&quot;</span> <span data-highlight="number" style="color: #b5cea8;">1</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">.put</span> <span data-highlight="string" style="color: #ce9178;">&quot;b&quot;</span> <span data-highlight="number" style="color: #b5cea8;">2</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="303">
</div><div class="line" data-line="304"><span data-highlight="comment" style="color: #6a9955;">;; STM (Software Transactional Memory)</span>
</div><div class="line" data-line="305"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Create a ref</span>
</div><div class="line" data-line="306"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">def</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">my-ref</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">ref</span></span> <span data-highlight="number" style="color: #b5cea8;">0</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="307">
</div><div class="line" data-line="308"><span data-highlight="comment" style="color: #6a9955;">; Update it transactionally</span>
</div><div class="line" data-line="309"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.macro" style="color: #dcdcaa;">dosync</span></span>
</div><div class="line" data-line="310">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">alter</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">my-ref</span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">inc</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="311">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">alter</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">my-ref</span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">inc</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="312">
</div><div class="line" data-line="313">@<span data-highlight="function.method" style="color: #dcdcaa;">my-ref</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; 2</span>
</div><div class="line" data-line="314"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="315"><span data-highlight="comment" style="color: #6a9955;">;; Destructuring</span>
</div><div class="line" data-line="316"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; You can destructure arrays and lists</span>
</div><div class="line" data-line="317"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.macro" style="color: #dcdcaa;">let</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="variable" style="color: #9cdcfe;">a</span> <span data-highlight="variable" style="color: #9cdcfe;">b</span> <span data-highlight="variable" style="color: #9cdcfe;">c</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span>
</div><div class="line" data-line="318">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">str</span></span> <span data-highlight="variable" style="color: #9cdcfe;">a</span> <span data-highlight="variable" style="color: #9cdcfe;">b</span> <span data-highlight="variable" style="color: #9cdcfe;">c</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;123&quot;</span>
</div><div class="line" data-line="319"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="320"><span data-highlight="comment" style="color: #6a9955;">; And maps</span>
</div><div class="line" data-line="321"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.macro" style="color: #dcdcaa;">let</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&lbrace;</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">:keys</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">name</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">age</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&rbrace;</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&lbrace;</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">:name</span> <span data-highlight="string" style="color: #ce9178;">&quot;John&quot;</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:age</span> <span data-highlight="number" style="color: #b5cea8;">30</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span>
</div><div class="line" data-line="322">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">str</span></span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">name</span></span> <span data-highlight="string" style="color: #ce9178;">&quot; is &quot;</span> <span data-highlight="function.method" style="color: #dcdcaa;">age</span> <span data-highlight="string" style="color: #ce9178;">&quot; years old&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;John is 30 years old&quot;</span>
</div><div class="line" data-line="323"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="324"><span data-highlight="comment" style="color: #6a9955;">;; Macros</span>
</div><div class="line" data-line="325"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Define a macro using defmacro</span>
</div><div class="line" data-line="326"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">defmacro</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">infix</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="function.method" style="color: #dcdcaa;">infixed</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span>
</div><div class="line" data-line="327">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">list</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">second</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">infixed</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">first</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">infixed</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">last</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">infixed</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="328">
</div><div class="line" data-line="329"><span data-highlight="comment" style="color: #6a9955;">; Macros can use syntax-quoting and unquoting</span>
</div><div class="line" data-line="330"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">defmacro</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">unless</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="function.method" style="color: #dcdcaa;">pred</span> <span data-highlight="variable" style="color: #9cdcfe;">a</span> <span data-highlight="variable" style="color: #9cdcfe;">b</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span>
</div><div class="line" data-line="331">  <span data-highlight="string.escape" style="color: #d4d4d4;">`</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.conditional" style="color: #c586c0;">if</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.operator" style="color: #569cd6;">not</span></span> <span data-highlight="punctuation.special" style="color: #d4d4d4;">~</span><span data-highlight="function.method" style="color: #dcdcaa;">pred</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="punctuation.special" style="color: #d4d4d4;">~</span><span data-highlight="variable" style="color: #9cdcfe;">a</span> <span data-highlight="punctuation.special" style="color: #d4d4d4;">~</span><span data-highlight="variable" style="color: #9cdcfe;">b</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="332">
</div><div class="line" data-line="333"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">unless</span> <span data-highlight="boolean" style="color: #569cd6;">false</span> <span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; 1</span>
</div><div class="line" data-line="334"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="335"><span data-highlight="comment" style="color: #6a9955;">;; Protocols and Records</span>
</div><div class="line" data-line="336"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Define a protocol</span>
</div><div class="line" data-line="337"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">defprotocol</span></span> <span data-highlight="type" style="color: #4ec9b0;"><span data-highlight="function.method" style="color: #dcdcaa;">Drawable</span></span>
</div><div class="line" data-line="338">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">draw</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="function.method" style="color: #dcdcaa;">shape</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span> <span data-highlight="string" style="color: #ce9178;">&quot;Draw the shape&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="339">
</div><div class="line" data-line="340"><span data-highlight="comment" style="color: #6a9955;">; Define a record</span>
</div><div class="line" data-line="341"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">defrecord</span></span> <span data-highlight="type" style="color: #4ec9b0;"><span data-highlight="function.method" style="color: #dcdcaa;">Circle</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="function.method" style="color: #dcdcaa;">radius</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="342">
</div><div class="line" data-line="343"><span data-highlight="comment" style="color: #6a9955;">; Extend the protocol to the record</span>
</div><div class="line" data-line="344"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.macro" style="color: #dcdcaa;">extend-type</span></span> <span data-highlight="type" style="color: #4ec9b0;"><span data-highlight="function.method" style="color: #dcdcaa;">Circle</span></span>
</div><div class="line" data-line="345">  <span data-highlight="type" style="color: #4ec9b0;"><span data-highlight="function.method" style="color: #dcdcaa;">Drawable</span></span>
</div><div class="line" data-line="346">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">draw</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="function.method" style="color: #dcdcaa;">circle</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span>
</div><div class="line" data-line="347">    <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">str</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;Drawing a circle with radius &quot;</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">:radius</span> <span data-highlight="function.method" style="color: #dcdcaa;">circle</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="348">
</div><div class="line" data-line="349"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">draw</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="type" style="color: #4ec9b0;"><span data-highlight="type" style="color: #4ec9b0;"><span data-highlight="function.method" style="color: #dcdcaa;">Circle.</span></span></span> <span data-highlight="number" style="color: #b5cea8;">5</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;Drawing a circle with radius 5&quot;</span>
</div><div class="line" data-line="350"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="351"><span data-highlight="comment" style="color: #6a9955;">;; Multi-methods</span>
</div><div class="line" data-line="352"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; Define a multi-method based on the class of the first argument</span>
</div><div class="line" data-line="353"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">defmulti</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">area</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:shape</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="354">
</div><div class="line" data-line="355"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">defmethod</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">area</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:circle</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="function.method" style="color: #dcdcaa;">shape</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span>
</div><div class="line" data-line="356">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="operator" style="color: #d4d4d4;">*</span> <span data-highlight="function.method" style="color: #dcdcaa;">Math/PI</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="operator" style="color: #d4d4d4;">*</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">:radius</span> <span data-highlight="function.method" style="color: #dcdcaa;">shape</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">:radius</span> <span data-highlight="function.method" style="color: #dcdcaa;">shape</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="357">
</div><div class="line" data-line="358"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">defmethod</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">area</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:rectangle</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="function.method" style="color: #dcdcaa;">shape</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span>
</div><div class="line" data-line="359">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="operator" style="color: #d4d4d4;">*</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">:width</span> <span data-highlight="function.method" style="color: #dcdcaa;">shape</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">:height</span> <span data-highlight="function.method" style="color: #dcdcaa;">shape</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="360">
</div><div class="line" data-line="361"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">area</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&lbrace;</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">:shape</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:circle</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:radius</span> <span data-highlight="number" style="color: #b5cea8;">5</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; 78.53981633974483</span>
</div><div class="line" data-line="362"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">area</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&lbrace;</span><span data-highlight="string.special.symbol" style="color: #d4d4d4;">:shape</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:rectangle</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:width</span> <span data-highlight="number" style="color: #b5cea8;">4</span> <span data-highlight="string.special.symbol" style="color: #d4d4d4;">:height</span> <span data-highlight="number" style="color: #b5cea8;">3</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; 12</span>
</div><div class="line" data-line="363"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="364"><span data-highlight="comment" style="color: #6a9955;">;; Regular expressions</span>
</div><div class="line" data-line="365"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">re-find</span></span> <span data-highlight="string.regexp" style="color: #ce9178;"><span data-highlight="punctuation.special" style="color: #d4d4d4;">#</span>&quot;hello&quot;</span> <span data-highlight="string" style="color: #ce9178;">&quot;hello world&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;hello&quot;</span>
</div><div class="line" data-line="366"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">re-matches</span></span> <span data-highlight="string.regexp" style="color: #ce9178;"><span data-highlight="punctuation.special" style="color: #d4d4d4;">#</span>&quot;hello&quot;</span> <span data-highlight="string" style="color: #ce9178;">&quot;hello&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;hello&quot;</span>
</div><div class="line" data-line="367"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">re-seq</span></span> <span data-highlight="string.regexp" style="color: #ce9178;"><span data-highlight="punctuation.special" style="color: #d4d4d4;">#</span>&quot;\d+&quot;</span> <span data-highlight="string" style="color: #ce9178;">&quot;a1b2c3&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; (&quot;1&quot; &quot;2&quot; &quot;3&quot;)</span>
</div><div class="line" data-line="368"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="369"><span data-highlight="comment" style="color: #6a9955;">;; String manipulation</span>
</div><div class="line" data-line="370"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">str/upper-case</span> <span data-highlight="string" style="color: #ce9178;">&quot;hello&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;HELLO&quot;</span>
</div><div class="line" data-line="371"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">str/lower-case</span> <span data-highlight="string" style="color: #ce9178;">&quot;WORLD&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;world&quot;</span>
</div><div class="line" data-line="372"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">str/split</span> <span data-highlight="string" style="color: #ce9178;">&quot;a,b,c&quot;</span> <span data-highlight="string.regexp" style="color: #ce9178;"><span data-highlight="punctuation.special" style="color: #d4d4d4;">#</span>&quot;,&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; [&quot;a&quot; &quot;b&quot; &quot;c&quot;]</span>
</div><div class="line" data-line="373"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">str/join</span> <span data-highlight="string" style="color: #ce9178;">&quot;, &quot;</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="string" style="color: #ce9178;">&quot;a&quot;</span> <span data-highlight="string" style="color: #ce9178;">&quot;b&quot;</span> <span data-highlight="string" style="color: #ce9178;">&quot;c&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;a, b, c&quot;</span>
</div><div class="line" data-line="374"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="375"><span data-highlight="comment" style="color: #6a9955;">;; File I/O</span>
</div><div class="line" data-line="376"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">spit</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;test.txt&quot;</span> <span data-highlight="string" style="color: #ce9178;">&quot;Hello World&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="377"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">slurp</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;test.txt&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;Hello World&quot;</span>
</div><div class="line" data-line="378"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="379"><span data-highlight="comment" style="color: #6a9955;">;; Working with time</span>
</div><div class="line" data-line="380"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">def</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">now</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">java.time.LocalDateTime/now</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="381"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">.toString</span> <span data-highlight="function.method" style="color: #dcdcaa;">now</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="382">
</div><div class="line" data-line="383"><span data-highlight="comment" style="color: #6a9955;">;; Error handling with try-catch</span>
</div><div class="line" data-line="384"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.exception" style="color: #c586c0;">try</span></span>
</div><div class="line" data-line="385">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="type" style="color: #4ec9b0;"><span data-highlight="type" style="color: #4ec9b0;"><span data-highlight="function.method" style="color: #dcdcaa;">Integer.</span></span></span> <span data-highlight="string" style="color: #ce9178;">&quot;not-a-number&quot;</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="386">  <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword.exception" style="color: #c586c0;">catch</span></span> <span data-highlight="type" style="color: #4ec9b0;"><span data-highlight="function.method" style="color: #dcdcaa;">NumberFormatException</span></span> <span data-highlight="variable" style="color: #9cdcfe;">e</span>
</div><div class="line" data-line="387">    <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">str</span></span> <span data-highlight="string" style="color: #ce9178;">&quot;Could not parse number: &quot;</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;">.getMessage</span> <span data-highlight="variable" style="color: #9cdcfe;">e</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="388"><span data-highlight="comment" style="color: #6a9955;">; =&gt; &quot;Could not parse number: For input string: \&quot;not-a-number\&quot;&quot;</span>
</div><div class="line" data-line="389"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="390"><span data-highlight="comment" style="color: #6a9955;">;; Transducers</span>
</div><div class="line" data-line="391"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="keyword" style="color: #569cd6;">def</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">xform</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">comp</span></span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">map</span></span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">inc</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">filter</span></span> <span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">even?</span></span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span>
</div><div class="line" data-line="392"><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">(</span><span data-highlight="function.method" style="color: #dcdcaa;"><span data-highlight="function.builtin" style="color: #dcdcaa;">transduce</span></span> <span data-highlight="function.method" style="color: #dcdcaa;">xform</span> <span data-highlight="operator" style="color: #d4d4d4;">+</span> <span data-highlight="punctuation.bracket" style="color: #d4d4d4;">[</span><span data-highlight="number" style="color: #b5cea8;">1</span> <span data-highlight="number" style="color: #b5cea8;">2</span> <span data-highlight="number" style="color: #b5cea8;">3</span> <span data-highlight="number" style="color: #b5cea8;">4</span> <span data-highlight="number" style="color: #b5cea8;">5</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">]</span><span data-highlight="punctuation.bracket" style="color: #d4d4d4;">)</span> <span data-highlight="comment" style="color: #6a9955;">; =&gt; 12</span>
</div><div class="line" data-line="393"><span data-highlight="comment" style="color: #6a9955;"></span>
</div><div class="line" data-line="394"><span data-highlight="comment" style="color: #6a9955;">;; Core.async (if available)</span>
</div><div class="line" data-line="395"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; (require &#39;[clojure.core.async :as async])</span>
</div><div class="line" data-line="396"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; (def ch (async/chan))</span>
</div><div class="line" data-line="397"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; (async/go (async/&gt;! ch &quot;hello&quot;))</span>
</div><div class="line" data-line="398"><span data-highlight="comment" style="color: #6a9955;"></span><span data-highlight="comment" style="color: #6a9955;">; (async/&lt;!! ch) ; =&gt; &quot;hello&quot;</span>
</div></code></pre>