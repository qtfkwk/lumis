<pre class="athl w-full overflow-auto rounded-lg p-8 font-mono text-sm antialiased leading-6" style="color: #f8f8f2; background-color: #1b1d1e;"><code class="language-nix" translate="no" tabindex="0"><div class="line" data-line="1"><span data-highlight="keyword" style="color: #66d9ef;">with</span> <span data-highlight="variable"><span data-highlight="constant.builtin" style="color: #a6e22e;">builtins</span></span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">[</span>
</div><div class="line" data-line="2">
</div><div class="line" data-line="3">  <span data-highlight="comment" style="color: #7e8e91;">#  Comments</span>
</div><div class="line" data-line="4">  <span data-highlight="comment" style="color: #7e8e91;">#=========================================</span>
</div><div class="line" data-line="5">
</div><div class="line" data-line="6">  <span data-highlight="comment" style="color: #7e8e91;"># Inline comments look like this.</span>
</div><div class="line" data-line="7">
</div><div class="line" data-line="8">  <span data-highlight="comment" style="color: #7e8e91;">/* Multi-line comments</span>
</div><div class="line" data-line="9"><span data-highlight="comment" style="color: #7e8e91;">     look like this. */</span>
</div><div class="line" data-line="10">
</div><div class="line" data-line="11">
</div><div class="line" data-line="12">  <span data-highlight="comment" style="color: #7e8e91;">#  Booleans</span>
</div><div class="line" data-line="13">  <span data-highlight="comment" style="color: #7e8e91;">#=========================================</span>
</div><div class="line" data-line="14">
</div><div class="line" data-line="15">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="boolean" style="color: #ae81ff;">true</span></span> <span data-highlight="operator" style="color: #f92672;">&amp;&amp;</span> <span data-highlight="variable"><span data-highlight="boolean" style="color: #ae81ff;">false</span></span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>               <span data-highlight="comment" style="color: #7e8e91;"># And</span>
</div><div class="line" data-line="16">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; false</span>
</div><div class="line" data-line="17">
</div><div class="line" data-line="18">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="boolean" style="color: #ae81ff;">true</span></span> <span data-highlight="operator" style="color: #f92672;">||</span> <span data-highlight="variable"><span data-highlight="boolean" style="color: #ae81ff;">false</span></span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>               <span data-highlight="comment" style="color: #7e8e91;"># Or</span>
</div><div class="line" data-line="19">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; true</span>
</div><div class="line" data-line="20">
</div><div class="line" data-line="21">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="keyword.conditional" style="color: #66d9ef;">if</span> <span data-highlight="number" style="color: #ae81ff;">3</span> <span data-highlight="operator" style="color: #f92672;">&lt;</span> <span data-highlight="number" style="color: #ae81ff;">4</span> <span data-highlight="keyword.conditional" style="color: #66d9ef;">then</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">a</span><span data-highlight="string" style="color: #e6db74;">&quot;</span> <span data-highlight="keyword.conditional" style="color: #66d9ef;">else</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">b</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>  <span data-highlight="comment" style="color: #7e8e91;"># Conditional</span>
</div><div class="line" data-line="22">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &quot;a&quot;</span>
</div><div class="line" data-line="23">
</div><div class="line" data-line="24">
</div><div class="line" data-line="25">  <span data-highlight="comment" style="color: #7e8e91;">#  Integers and Floats</span>
</div><div class="line" data-line="26">  <span data-highlight="comment" style="color: #7e8e91;">#=========================================</span>
</div><div class="line" data-line="27">
</div><div class="line" data-line="28">  <span data-highlight="comment" style="color: #7e8e91;"># There are two numeric types: integers and floats</span>
</div><div class="line" data-line="29">
</div><div class="line" data-line="30">  <span data-highlight="number" style="color: #ae81ff;">1</span> <span data-highlight="number" style="color: #ae81ff;">0</span> <span data-highlight="number" style="color: #ae81ff;">42</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="operator" style="color: #f92672;"><span data-highlight="number" style="color: #ae81ff;">-<span data-highlight="number" style="color: #ae81ff;">3</span></span></span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>       <span data-highlight="comment" style="color: #7e8e91;"># Some integers</span>
</div><div class="line" data-line="31">
</div><div class="line" data-line="32">  <span data-highlight="number.float" style="color: #ae81ff;">123.43</span> <span data-highlight="number.float" style="color: #ae81ff;">.27e13</span>     <span data-highlight="comment" style="color: #7e8e91;"># A couple of floats</span>
</div><div class="line" data-line="33">
</div><div class="line" data-line="34">  <span data-highlight="comment" style="color: #7e8e91;"># Operations will preserve numeric type</span>
</div><div class="line" data-line="35">
</div><div class="line" data-line="36">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="number" style="color: #ae81ff;">4</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="number" style="color: #ae81ff;">6</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="number" style="color: #ae81ff;">12</span> <span data-highlight="operator" style="color: #f92672;">-</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>  <span data-highlight="comment" style="color: #7e8e91;"># Addition</span>
</div><div class="line" data-line="37">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; 20</span>
</div><div class="line" data-line="38">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="number" style="color: #ae81ff;">4</span> <span data-highlight="operator" style="color: #f92672;">-</span> <span data-highlight="number.float" style="color: #ae81ff;">2.5</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="39">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; 1.5</span>
</div><div class="line" data-line="40">
</div><div class="line" data-line="41">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="number" style="color: #ae81ff;">7</span> <span data-highlight="operator" style="color: #f92672;">/</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>           <span data-highlight="comment" style="color: #7e8e91;"># Division</span>
</div><div class="line" data-line="42">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; 3</span>
</div><div class="line" data-line="43">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="number" style="color: #ae81ff;">7</span> <span data-highlight="operator" style="color: #f92672;">/</span> <span data-highlight="number.float" style="color: #ae81ff;">2.0</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="44">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; 3.5</span>
</div><div class="line" data-line="45">
</div><div class="line" data-line="46">
</div><div class="line" data-line="47">  <span data-highlight="comment" style="color: #7e8e91;">#  Strings</span>
</div><div class="line" data-line="48">  <span data-highlight="comment" style="color: #7e8e91;">#=========================================</span>
</div><div class="line" data-line="49">
</div><div class="line" data-line="50">  <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">Strings literals are in double quotes.</span><span data-highlight="string" style="color: #e6db74;">&quot;</span>
</div><div class="line" data-line="51">
</div><div class="line" data-line="52">  <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;"></span>
</div><div class="line" data-line="53"><span data-highlight="string" style="color: #e6db74;">    String literals can span</span>
</div><div class="line" data-line="54"><span data-highlight="string" style="color: #e6db74;">    multiple lines.</span>
</div><div class="line" data-line="55"><span data-highlight="string" style="color: #e6db74;">  </span><span data-highlight="string" style="color: #e6db74;">&quot;</span>
</div><div class="line" data-line="56">
</div><div class="line" data-line="57">  <span data-highlight="string" style="color: #e6db74;">&#39;&#39;</span><span data-highlight="string" style="color: #e6db74;"></span>
</div><div class="line" data-line="58"><span data-highlight="string" style="color: #e6db74;">    This is called an &quot;indented string&quot; literal.</span>
</div><div class="line" data-line="59"><span data-highlight="string" style="color: #e6db74;">    It intelligently strips leading whitespace.</span>
</div><div class="line" data-line="60"><span data-highlight="string" style="color: #e6db74;">  </span><span data-highlight="string" style="color: #e6db74;">&#39;&#39;</span>
</div><div class="line" data-line="61">
</div><div class="line" data-line="62">  <span data-highlight="string" style="color: #e6db74;">&#39;&#39;</span><span data-highlight="string" style="color: #e6db74;"></span>
</div><div class="line" data-line="63"><span data-highlight="string" style="color: #e6db74;">    a</span>
</div><div class="line" data-line="64"><span data-highlight="string" style="color: #e6db74;">      b</span>
</div><div class="line" data-line="65"><span data-highlight="string" style="color: #e6db74;">  </span><span data-highlight="string" style="color: #e6db74;">&#39;&#39;</span>
</div><div class="line" data-line="66">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &quot;a\n  b&quot;</span>
</div><div class="line" data-line="67">
</div><div class="line" data-line="68">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">ab</span><span data-highlight="string" style="color: #e6db74;">&quot;</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">cd</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>   <span data-highlight="comment" style="color: #7e8e91;"># String concatenation</span>
</div><div class="line" data-line="69">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &quot;abcd&quot;</span>
</div><div class="line" data-line="70">
</div><div class="line" data-line="71">  <span data-highlight="comment" style="color: #7e8e91;"># String interpolation (formerly known as &quot;antiquotation&quot;) lets you embed values into strings.</span>
</div><div class="line" data-line="72">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">Your home directory is </span><span data-highlight="punctuation.special" style="color: #e0e2ea;">$&lbrace;</span><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">getEnv</span></span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">HOME</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.special" style="color: #e0e2ea;">&rbrace;</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="73">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &quot;Your home directory is /home/alice&quot;</span>
</div><div class="line" data-line="74">
</div><div class="line" data-line="75">
</div><div class="line" data-line="76">  <span data-highlight="comment" style="color: #7e8e91;">#  Paths</span>
</div><div class="line" data-line="77">  <span data-highlight="comment" style="color: #7e8e91;">#=========================================</span>
</div><div class="line" data-line="78">
</div><div class="line" data-line="79">  <span data-highlight="comment" style="color: #7e8e91;"># Nix has a primitive data type for paths.</span>
</div><div class="line" data-line="80">  <span data-highlight="string.special.path" style="color: #819aff;">/tmp/tutorials/learn.nix</span>
</div><div class="line" data-line="81">
</div><div class="line" data-line="82">  <span data-highlight="comment" style="color: #7e8e91;"># A relative path is resolved to an absolute path at parse</span>
</div><div class="line" data-line="83">  <span data-highlight="comment" style="color: #7e8e91;"># time, relative to the file in which it occurs.</span>
</div><div class="line" data-line="84">  <span data-highlight="string.special.path" style="color: #819aff;">tutorials/learn.nix</span>
</div><div class="line" data-line="85">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; /the-base-path/tutorials/learn.nix</span>
</div><div class="line" data-line="86">
</div><div class="line" data-line="87">  <span data-highlight="comment" style="color: #7e8e91;"># A path must contain at least one slash, so a relative</span>
</div><div class="line" data-line="88">  <span data-highlight="comment" style="color: #7e8e91;"># path for a file in the same directory needs a ./ prefix,</span>
</div><div class="line" data-line="89">  <span data-highlight="string.special.path" style="color: #819aff;">./learn.nix</span>
</div><div class="line" data-line="90">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; /the-base-path/learn.nix</span>
</div><div class="line" data-line="91">
</div><div class="line" data-line="92">  <span data-highlight="comment" style="color: #7e8e91;"># The / operator must be surrounded by whitespace if</span>
</div><div class="line" data-line="93">  <span data-highlight="comment" style="color: #7e8e91;"># you want it to signify division.</span>
</div><div class="line" data-line="94">
</div><div class="line" data-line="95">  <span data-highlight="string.special.path" style="color: #819aff;">7/2</span>        <span data-highlight="comment" style="color: #7e8e91;"># This is a path literal</span>
</div><div class="line" data-line="96">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="number" style="color: #ae81ff;">7</span> <span data-highlight="operator" style="color: #f92672;">/</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>    <span data-highlight="comment" style="color: #7e8e91;"># This is integer division</span>
</div><div class="line" data-line="97">
</div><div class="line" data-line="98">
</div><div class="line" data-line="99">  <span data-highlight="comment" style="color: #7e8e91;">#  Imports</span>
</div><div class="line" data-line="100">  <span data-highlight="comment" style="color: #7e8e91;">#=========================================</span>
</div><div class="line" data-line="101">
</div><div class="line" data-line="102">  <span data-highlight="comment" style="color: #7e8e91;"># A nix file contains a single top-level expression with no free</span>
</div><div class="line" data-line="103">  <span data-highlight="comment" style="color: #7e8e91;"># variables. An import expression evaluates to the value of the</span>
</div><div class="line" data-line="104">  <span data-highlight="comment" style="color: #7e8e91;"># file that it imports.</span>
</div><div class="line" data-line="105">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="keyword.import" style="color: #66d9ef;">import</span></span> <span data-highlight="string.special.path" style="color: #819aff;">/tmp/foo.nix</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="106">
</div><div class="line" data-line="107">  <span data-highlight="comment" style="color: #7e8e91;"># Imports can also be specified by strings.</span>
</div><div class="line" data-line="108">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="keyword.import" style="color: #66d9ef;">import</span></span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">/tmp/foo.nix</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="109">
</div><div class="line" data-line="110">  <span data-highlight="comment" style="color: #7e8e91;"># Import paths must be absolute. Path literals</span>
</div><div class="line" data-line="111">  <span data-highlight="comment" style="color: #7e8e91;"># are automatically resolved, so this is fine.</span>
</div><div class="line" data-line="112">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="keyword.import" style="color: #66d9ef;">import</span></span> <span data-highlight="string.special.path" style="color: #819aff;">./foo.nix</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="113">
</div><div class="line" data-line="114">  <span data-highlight="comment" style="color: #7e8e91;"># But this does not happen with strings.</span>
</div><div class="line" data-line="115">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="keyword.import" style="color: #66d9ef;">import</span></span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">./foo.nix</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="116">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; error: string ‘foo.nix’ doesn&#39;t represent an absolute path</span>
</div><div class="line" data-line="117">
</div><div class="line" data-line="118">
</div><div class="line" data-line="119">  <span data-highlight="comment" style="color: #7e8e91;">#  Let</span>
</div><div class="line" data-line="120">  <span data-highlight="comment" style="color: #7e8e91;">#=========================================</span>
</div><div class="line" data-line="121">
</div><div class="line" data-line="122">  <span data-highlight="comment" style="color: #7e8e91;"># `let` blocks allow us to bind values to variables.</span>
</div><div class="line" data-line="123">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="keyword" style="color: #66d9ef;">let</span> x <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">a</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="keyword" style="color: #66d9ef;">in</span>
</div><div class="line" data-line="124">    <span data-highlight="variable">x</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="variable">x</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="variable">x</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="125">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &quot;aaa&quot;</span>
</div><div class="line" data-line="126">
</div><div class="line" data-line="127">  <span data-highlight="comment" style="color: #7e8e91;"># Bindings can refer to each other, and their order does not matter.</span>
</div><div class="line" data-line="128">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="keyword" style="color: #66d9ef;">let</span> y <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="variable">x</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">b</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span>
</div><div class="line" data-line="129">       x <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">a</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="keyword" style="color: #66d9ef;">in</span>
</div><div class="line" data-line="130">    <span data-highlight="variable">y</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">c</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="131">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &quot;abc&quot;</span>
</div><div class="line" data-line="132">
</div><div class="line" data-line="133">  <span data-highlight="comment" style="color: #7e8e91;"># Inner bindings shadow outer bindings.</span>
</div><div class="line" data-line="134">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="keyword" style="color: #66d9ef;">let</span> a <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">1</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="keyword" style="color: #66d9ef;">in</span>
</div><div class="line" data-line="135">    <span data-highlight="keyword" style="color: #66d9ef;">let</span> a <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="keyword" style="color: #66d9ef;">in</span>
</div><div class="line" data-line="136">      <span data-highlight="variable">a</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="137">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; 2</span>
</div><div class="line" data-line="138">
</div><div class="line" data-line="139">
</div><div class="line" data-line="140">  <span data-highlight="comment" style="color: #7e8e91;">#  Functions</span>
</div><div class="line" data-line="141">  <span data-highlight="comment" style="color: #7e8e91;">#=========================================</span>
</div><div class="line" data-line="142">
</div><div class="line" data-line="143">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable.parameter">n</span><span data-highlight="punctuation.special" style="color: #e0e2ea;">:</span> <span data-highlight="variable">n</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="number" style="color: #ae81ff;">1</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>      <span data-highlight="comment" style="color: #7e8e91;"># Function that adds 1</span>
</div><div class="line" data-line="144">
</div><div class="line" data-line="145">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable.parameter">n</span><span data-highlight="punctuation.special" style="color: #e0e2ea;">:</span> <span data-highlight="variable">n</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="number" style="color: #ae81ff;">1</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span> <span data-highlight="number" style="color: #ae81ff;">5</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>  <span data-highlight="comment" style="color: #7e8e91;"># That same function, applied to 5</span>
</div><div class="line" data-line="146">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; 6</span>
</div><div class="line" data-line="147">
</div><div class="line" data-line="148">  <span data-highlight="comment" style="color: #7e8e91;"># There is no syntax for named functions, but they</span>
</div><div class="line" data-line="149">  <span data-highlight="comment" style="color: #7e8e91;"># can be bound by `let` blocks like any other value.</span>
</div><div class="line" data-line="150">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="keyword" style="color: #66d9ef;">let</span> succ <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable.parameter">n</span><span data-highlight="punctuation.special" style="color: #e0e2ea;">:</span> <span data-highlight="variable">n</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="number" style="color: #ae81ff;">1</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="keyword" style="color: #66d9ef;">in</span> <span data-highlight="variable"><span data-highlight="function.call" style="color: #a6e22e;">succ</span></span> <span data-highlight="number" style="color: #ae81ff;">5</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="151">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; 6</span>
</div><div class="line" data-line="152">
</div><div class="line" data-line="153">  <span data-highlight="comment" style="color: #7e8e91;"># A function has exactly one argument.</span>
</div><div class="line" data-line="154">  <span data-highlight="comment" style="color: #7e8e91;"># Multiple arguments can be achieved with currying.</span>
</div><div class="line" data-line="155">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable.parameter">x</span><span data-highlight="punctuation.special" style="color: #e0e2ea;">:</span> <span data-highlight="variable.parameter">y</span><span data-highlight="punctuation.special" style="color: #e0e2ea;">:</span> <span data-highlight="variable">x</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">-</span><span data-highlight="string" style="color: #e6db74;">&quot;</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="variable">y</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">a</span><span data-highlight="string" style="color: #e6db74;">&quot;</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">b</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="156">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &quot;a-b&quot;</span>
</div><div class="line" data-line="157">
</div><div class="line" data-line="158">  <span data-highlight="comment" style="color: #7e8e91;"># We can also have named function arguments,</span>
</div><div class="line" data-line="159">  <span data-highlight="comment" style="color: #7e8e91;"># which we&#39;ll get to later after we introduce sets.</span>
</div><div class="line" data-line="160">
</div><div class="line" data-line="161">
</div><div class="line" data-line="162">  <span data-highlight="comment" style="color: #7e8e91;">#  Lists</span>
</div><div class="line" data-line="163">  <span data-highlight="comment" style="color: #7e8e91;">#=========================================</span>
</div><div class="line" data-line="164">
</div><div class="line" data-line="165">  <span data-highlight="comment" style="color: #7e8e91;"># Lists are denoted by square brackets.</span>
</div><div class="line" data-line="166">
</div><div class="line" data-line="167">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">length</span></span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">[</span><span data-highlight="number" style="color: #ae81ff;">1</span> <span data-highlight="number" style="color: #ae81ff;">2</span> <span data-highlight="number" style="color: #ae81ff;">3</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">x</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">]</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="168">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; 4</span>
</div><div class="line" data-line="169">
</div><div class="line" data-line="170">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">[</span><span data-highlight="number" style="color: #ae81ff;">1</span> <span data-highlight="number" style="color: #ae81ff;">2</span> <span data-highlight="number" style="color: #ae81ff;">3</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">]</span> <span data-highlight="operator" style="color: #f92672;">++</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">[</span><span data-highlight="number" style="color: #ae81ff;">4</span> <span data-highlight="number" style="color: #ae81ff;">5</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">]</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="171">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; [1 2 3 4 5]</span>
</div><div class="line" data-line="172">
</div><div class="line" data-line="173">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">concatLists</span></span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">[</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">[</span><span data-highlight="number" style="color: #ae81ff;">1</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">]</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">[</span><span data-highlight="number" style="color: #ae81ff;">3</span> <span data-highlight="number" style="color: #ae81ff;">4</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">]</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">[</span><span data-highlight="number" style="color: #ae81ff;">5</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">]</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">]</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="174">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; [1 2 3 4 5]</span>
</div><div class="line" data-line="175">
</div><div class="line" data-line="176">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">head</span></span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">[</span><span data-highlight="number" style="color: #ae81ff;">1</span> <span data-highlight="number" style="color: #ae81ff;">2</span> <span data-highlight="number" style="color: #ae81ff;">3</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">]</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="177">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; 1</span>
</div><div class="line" data-line="178">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">tail</span></span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">[</span><span data-highlight="number" style="color: #ae81ff;">1</span> <span data-highlight="number" style="color: #ae81ff;">2</span> <span data-highlight="number" style="color: #ae81ff;">3</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">]</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="179">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; [2 3]</span>
</div><div class="line" data-line="180">
</div><div class="line" data-line="181">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">elemAt</span></span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">[</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">a</span><span data-highlight="string" style="color: #e6db74;">&quot;</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">b</span><span data-highlight="string" style="color: #e6db74;">&quot;</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">c</span><span data-highlight="string" style="color: #e6db74;">&quot;</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">d</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">]</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="182">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &quot;c&quot;</span>
</div><div class="line" data-line="183">
</div><div class="line" data-line="184">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">elem</span></span> <span data-highlight="number" style="color: #ae81ff;">2</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">[</span><span data-highlight="number" style="color: #ae81ff;">1</span> <span data-highlight="number" style="color: #ae81ff;">2</span> <span data-highlight="number" style="color: #ae81ff;">3</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">]</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="185">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; true</span>
</div><div class="line" data-line="186">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">elem</span></span> <span data-highlight="number" style="color: #ae81ff;">5</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">[</span><span data-highlight="number" style="color: #ae81ff;">1</span> <span data-highlight="number" style="color: #ae81ff;">2</span> <span data-highlight="number" style="color: #ae81ff;">3</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">]</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="187">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; false</span>
</div><div class="line" data-line="188">
</div><div class="line" data-line="189">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">filter</span></span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable.parameter">n</span><span data-highlight="punctuation.special" style="color: #e0e2ea;">:</span> <span data-highlight="variable">n</span> <span data-highlight="operator" style="color: #f92672;">&lt;</span> <span data-highlight="number" style="color: #ae81ff;">3</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">[</span><span data-highlight="number" style="color: #ae81ff;">1</span> <span data-highlight="number" style="color: #ae81ff;">2</span> <span data-highlight="number" style="color: #ae81ff;">3</span> <span data-highlight="number" style="color: #ae81ff;">4</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">]</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="190">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; [ 1 2 ]</span>
</div><div class="line" data-line="191">
</div><div class="line" data-line="192">
</div><div class="line" data-line="193">  <span data-highlight="comment" style="color: #7e8e91;">#  Sets</span>
</div><div class="line" data-line="194">  <span data-highlight="comment" style="color: #7e8e91;">#=========================================</span>
</div><div class="line" data-line="195">
</div><div class="line" data-line="196">  <span data-highlight="comment" style="color: #7e8e91;"># A &quot;set&quot; is an unordered mapping with string keys.</span>
</div><div class="line" data-line="197">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">foo</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">[</span><span data-highlight="number" style="color: #ae81ff;">1</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">]</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="variable.member">bar</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">x</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span>
</div><div class="line" data-line="198">
</div><div class="line" data-line="199">  <span data-highlight="comment" style="color: #7e8e91;"># The . operator pulls a value out of a set.</span>
</div><div class="line" data-line="200">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">a</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">1</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="variable.member">b</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">.</span><span data-highlight="variable.member">a</span>
</div><div class="line" data-line="201">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; 1</span>
</div><div class="line" data-line="202">
</div><div class="line" data-line="203">  <span data-highlight="comment" style="color: #7e8e91;"># The ? operator tests whether a key is present in a set.</span>
</div><div class="line" data-line="204">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">a</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">1</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="variable.member">b</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span> <span data-highlight="operator" style="color: #f92672;">?</span> a<span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="205">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; true</span>
</div><div class="line" data-line="206">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">a</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">1</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="variable.member">b</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span> <span data-highlight="operator" style="color: #f92672;">?</span> c<span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="207">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; false</span>
</div><div class="line" data-line="208">
</div><div class="line" data-line="209">  <span data-highlight="comment" style="color: #7e8e91;"># The // operator merges two sets.</span>
</div><div class="line" data-line="210">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">a</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">1</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span> <span data-highlight="operator" style="color: #f92672;">//</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">b</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="211">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &lbrace; a = 1; b = 2; &rbrace;</span>
</div><div class="line" data-line="212">
</div><div class="line" data-line="213">  <span data-highlight="comment" style="color: #7e8e91;"># Values on the right override values on the left.</span>
</div><div class="line" data-line="214">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">a</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">1</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="variable.member">b</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span> <span data-highlight="operator" style="color: #f92672;">//</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">a</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">3</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="variable.member">c</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">4</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="215">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &lbrace; a = 3; b = 2; c = 4; &rbrace;</span>
</div><div class="line" data-line="216">
</div><div class="line" data-line="217">  <span data-highlight="comment" style="color: #7e8e91;"># The rec keyword denotes a &quot;recursive set&quot;,</span>
</div><div class="line" data-line="218">  <span data-highlight="comment" style="color: #7e8e91;"># in which attributes can refer to each other.</span>
</div><div class="line" data-line="219">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="keyword" style="color: #66d9ef;">let</span> a <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">1</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="keyword" style="color: #66d9ef;">in</span>     <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">a</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="variable.member">b</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="variable">a</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">.</span><span data-highlight="variable.member">b</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="220">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; 1</span>
</div><div class="line" data-line="221">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="keyword" style="color: #66d9ef;">let</span> a <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">1</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="keyword" style="color: #66d9ef;">in</span> <span data-highlight="keyword" style="color: #66d9ef;">rec</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">a</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="variable.member">b</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="variable">a</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">.</span><span data-highlight="variable.member">b</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="222">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; 2</span>
</div><div class="line" data-line="223">
</div><div class="line" data-line="224">  <span data-highlight="comment" style="color: #7e8e91;"># Nested sets can be defined in a piecewise fashion.</span>
</div><div class="line" data-line="225">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span>
</div><div class="line" data-line="226">    <span data-highlight="variable.member">a</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">.</span><span data-highlight="variable.member">b</span>   <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">1</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span>
</div><div class="line" data-line="227">    <span data-highlight="variable.member">a</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">.</span><span data-highlight="variable.member">c</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">.</span><span data-highlight="variable.member">d</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span>
</div><div class="line" data-line="228">    <span data-highlight="variable.member">a</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">.</span><span data-highlight="variable.member">c</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">.</span><span data-highlight="variable.member">e</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">3</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span>
</div><div class="line" data-line="229">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">.</span>a<span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">.</span><span data-highlight="variable.member">c</span>
</div><div class="line" data-line="230">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &lbrace; d = 2; e = 3; &rbrace;</span>
</div><div class="line" data-line="231">
</div><div class="line" data-line="232">  <span data-highlight="comment" style="color: #7e8e91;"># Sets are immutable, so you can&#39;t redefine an attribute:</span>
</div><div class="line" data-line="233">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span>
</div><div class="line" data-line="234">    <span data-highlight="variable.member">a</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">b</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">1</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span>
</div><div class="line" data-line="235">    <span data-highlight="variable.member">a</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">.</span><span data-highlight="variable.member">b</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span>
</div><div class="line" data-line="236">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span>
</div><div class="line" data-line="237">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; attribute &#39;a.b&#39; at (string):3:5 already defined at (string):2:11</span>
</div><div class="line" data-line="238">
</div><div class="line" data-line="239">  <span data-highlight="comment" style="color: #7e8e91;"># However, an attribute&#39;s set members can also be defined piecewise</span>
</div><div class="line" data-line="240">  <span data-highlight="comment" style="color: #7e8e91;"># way even if the attribute itself has been directly assigned.</span>
</div><div class="line" data-line="241">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span>
</div><div class="line" data-line="242">    <span data-highlight="variable.member">a</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">b</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">1</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span>
</div><div class="line" data-line="243">    <span data-highlight="variable.member">a</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">.</span><span data-highlight="variable.member">c</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span>
</div><div class="line" data-line="244">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span>
</div><div class="line" data-line="245">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &lbrace; a = &lbrace; b = 1; c = 2; &rbrace;; &rbrace;</span>
</div><div class="line" data-line="246">
</div><div class="line" data-line="247">
</div><div class="line" data-line="248">  <span data-highlight="comment" style="color: #7e8e91;">#  With</span>
</div><div class="line" data-line="249">  <span data-highlight="comment" style="color: #7e8e91;">#=========================================</span>
</div><div class="line" data-line="250">
</div><div class="line" data-line="251">  <span data-highlight="comment" style="color: #7e8e91;"># The body of a `with` block is evaluated with</span>
</div><div class="line" data-line="252">  <span data-highlight="comment" style="color: #7e8e91;"># a set&#39;s mappings bound to variables.</span>
</div><div class="line" data-line="253">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="keyword" style="color: #66d9ef;">with</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">a</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">1</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="variable.member">b</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span>
</div><div class="line" data-line="254">    <span data-highlight="variable">a</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="variable">b</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="255">  <span data-highlight="comment" style="color: #7e8e91;"># =&gt; 3</span>
</div><div class="line" data-line="256">
</div><div class="line" data-line="257">  <span data-highlight="comment" style="color: #7e8e91;"># Inner bindings shadow outer bindings.</span>
</div><div class="line" data-line="258">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="keyword" style="color: #66d9ef;">with</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">a</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">1</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="variable.member">b</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span>
</div><div class="line" data-line="259">    <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="keyword" style="color: #66d9ef;">with</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">a</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="number" style="color: #ae81ff;">5</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span>
</div><div class="line" data-line="260">      <span data-highlight="variable">a</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="variable">b</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="261">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; 7</span>
</div><div class="line" data-line="262">
</div><div class="line" data-line="263">  <span data-highlight="comment" style="color: #7e8e91;"># This first line of tutorial starts with &quot;with builtins;&quot;</span>
</div><div class="line" data-line="264">  <span data-highlight="comment" style="color: #7e8e91;"># because builtins is a set that contains all of the built-in</span>
</div><div class="line" data-line="265">  <span data-highlight="comment" style="color: #7e8e91;"># functions (length, head, tail, filter, etc.). This saves</span>
</div><div class="line" data-line="266">  <span data-highlight="comment" style="color: #7e8e91;"># us from having to write, for example, &quot;builtins.length&quot;</span>
</div><div class="line" data-line="267">  <span data-highlight="comment" style="color: #7e8e91;"># instead of just &quot;length&quot;.</span>
</div><div class="line" data-line="268">
</div><div class="line" data-line="269">
</div><div class="line" data-line="270">  <span data-highlight="comment" style="color: #7e8e91;">#  Set patterns</span>
</div><div class="line" data-line="271">  <span data-highlight="comment" style="color: #7e8e91;">#=========================================</span>
</div><div class="line" data-line="272">
</div><div class="line" data-line="273">  <span data-highlight="comment" style="color: #7e8e91;"># Sets are useful when we need to pass multiple values</span>
</div><div class="line" data-line="274">  <span data-highlight="comment" style="color: #7e8e91;"># to a function.</span>
</div><div class="line" data-line="275">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable.parameter">args</span><span data-highlight="punctuation.special" style="color: #e0e2ea;">:</span> <span data-highlight="variable">args</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">.</span><span data-highlight="variable.member">x</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">-</span><span data-highlight="string" style="color: #e6db74;">&quot;</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="variable">args</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">.</span><span data-highlight="variable.member">y</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">x</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">a</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="variable.member">y</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">b</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span>
</div><div class="line" data-line="276">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &quot;a-b&quot;</span>
</div><div class="line" data-line="277">
</div><div class="line" data-line="278">  <span data-highlight="comment" style="color: #7e8e91;"># This can be written more clearly using set patterns.</span>
</div><div class="line" data-line="279">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span><span data-highlight="variable.parameter">x</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">,</span> <span data-highlight="variable.parameter">y</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">:</span> <span data-highlight="variable">x</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">-</span><span data-highlight="string" style="color: #e6db74;">&quot;</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="variable">y</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">x</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">a</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="variable.member">y</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">b</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span>
</div><div class="line" data-line="280">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &quot;a-b&quot;</span>
</div><div class="line" data-line="281">
</div><div class="line" data-line="282">  <span data-highlight="comment" style="color: #7e8e91;"># By default, the pattern fails on sets containing extra keys.</span>
</div><div class="line" data-line="283">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span><span data-highlight="variable.parameter">x</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">,</span> <span data-highlight="variable.parameter">y</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">:</span> <span data-highlight="variable">x</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">-</span><span data-highlight="string" style="color: #e6db74;">&quot;</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="variable">y</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">x</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">a</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="variable.member">y</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">b</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="variable.member">z</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">c</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span>
</div><div class="line" data-line="284">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; error: anonymous function called with unexpected argument ‘z’</span>
</div><div class="line" data-line="285">
</div><div class="line" data-line="286">  <span data-highlight="comment" style="color: #7e8e91;"># Adding &quot;, ...&quot; allows ignoring extra keys.</span>
</div><div class="line" data-line="287">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span><span data-highlight="variable.parameter">x</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">,</span> <span data-highlight="variable.parameter">y</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">,</span> <span data-highlight="variable.parameter.builtin" style="color: #819aff;">...</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">:</span> <span data-highlight="variable">x</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">-</span><span data-highlight="string" style="color: #e6db74;">&quot;</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="variable">y</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">x</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">a</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="variable.member">y</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">b</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="variable.member">z</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">c</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span>
</div><div class="line" data-line="288">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &quot;a-b&quot;</span>
</div><div class="line" data-line="289">
</div><div class="line" data-line="290">  <span data-highlight="comment" style="color: #7e8e91;"># The entire set can be bound to a variable using `@`</span>
</div><div class="line" data-line="291">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable.parameter">args</span><span data-highlight="operator" style="color: #f92672;">@</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span><span data-highlight="variable.parameter">x</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">,</span> <span data-highlight="variable.parameter">y</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span><span data-highlight="punctuation.special" style="color: #e0e2ea;">:</span> <span data-highlight="variable">args</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">.</span><span data-highlight="variable.member">x</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">-</span><span data-highlight="string" style="color: #e6db74;">&quot;</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="variable">args</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">.</span><span data-highlight="variable.member">y</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&lbrace;</span> <span data-highlight="variable.member">x</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">a</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="variable.member">y</span> <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">b</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">&rbrace;</span>
</div><div class="line" data-line="292">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &quot;a-b&quot;</span>
</div><div class="line" data-line="293">
</div><div class="line" data-line="294">  <span data-highlight="comment" style="color: #7e8e91;">#  Errors</span>
</div><div class="line" data-line="295">  <span data-highlight="comment" style="color: #7e8e91;">#=========================================</span>
</div><div class="line" data-line="296">
</div><div class="line" data-line="297">  <span data-highlight="comment" style="color: #7e8e91;"># `throw` causes evaluation to abort with an error message.</span>
</div><div class="line" data-line="298">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="number" style="color: #ae81ff;">2</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="keyword.exception" style="color: #66d9ef;">throw</span></span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">foo</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="299">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; error: foo</span>
</div><div class="line" data-line="300">
</div><div class="line" data-line="301">  <span data-highlight="comment" style="color: #7e8e91;"># `tryEval` catches thrown errors.</span>
</div><div class="line" data-line="302">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">tryEval</span></span> <span data-highlight="number" style="color: #ae81ff;">42</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="303">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &lbrace; success = true; value = 42; &rbrace;</span>
</div><div class="line" data-line="304">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">tryEval</span></span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="number" style="color: #ae81ff;">2</span> <span data-highlight="operator" style="color: #f92672;">+</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="keyword.exception" style="color: #66d9ef;">throw</span></span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">foo</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="305">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &lbrace; success = false; value = false; &rbrace;</span>
</div><div class="line" data-line="306">
</div><div class="line" data-line="307">  <span data-highlight="comment" style="color: #7e8e91;"># `abort` is like throw, but it&#39;s fatal; it cannot be caught.</span>
</div><div class="line" data-line="308">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">tryEval</span></span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="keyword.exception" style="color: #66d9ef;">abort</span></span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">foo</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="309">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; error: evaluation aborted with the following error message: ‘foo’</span>
</div><div class="line" data-line="310">
</div><div class="line" data-line="311">  <span data-highlight="comment" style="color: #7e8e91;"># `assert` evaluates to the given value if true;</span>
</div><div class="line" data-line="312">  <span data-highlight="comment" style="color: #7e8e91;"># otherwise it throws a catchable exception.</span>
</div><div class="line" data-line="313">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="keyword" style="color: #66d9ef;">assert</span> <span data-highlight="number" style="color: #ae81ff;">1</span> <span data-highlight="operator" style="color: #f92672;">&lt;</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="number" style="color: #ae81ff;">42</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="314">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; 42</span>
</div><div class="line" data-line="315">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="keyword" style="color: #66d9ef;">assert</span> <span data-highlight="number" style="color: #ae81ff;">1</span> <span data-highlight="operator" style="color: #f92672;">&gt;</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="number" style="color: #ae81ff;">42</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="316">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; error: assertion failed at (string):1:1</span>
</div><div class="line" data-line="317">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">tryEval</span></span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="keyword" style="color: #66d9ef;">assert</span> <span data-highlight="number" style="color: #ae81ff;">1</span> <span data-highlight="operator" style="color: #f92672;">&gt;</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="number" style="color: #ae81ff;">42</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="318">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &lbrace; success = false; value = false; &rbrace;</span>
</div><div class="line" data-line="319">
</div><div class="line" data-line="320">
</div><div class="line" data-line="321">  <span data-highlight="comment" style="color: #7e8e91;">#  Impurity</span>
</div><div class="line" data-line="322">  <span data-highlight="comment" style="color: #7e8e91;">#=========================================</span>
</div><div class="line" data-line="323">
</div><div class="line" data-line="324">  <span data-highlight="comment" style="color: #7e8e91;"># Because repeatability of builds is critical to the Nix package</span>
</div><div class="line" data-line="325">  <span data-highlight="comment" style="color: #7e8e91;"># manager, functional purity is emphasized in the Nix language</span>
</div><div class="line" data-line="326">  <span data-highlight="comment" style="color: #7e8e91;"># used to describe Nix packages. But there are a few impurities.</span>
</div><div class="line" data-line="327">
</div><div class="line" data-line="328">  <span data-highlight="comment" style="color: #7e8e91;"># You can refer to environment variables.</span>
</div><div class="line" data-line="329">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">getEnv</span></span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">HOME</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="330">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &quot;/home/alice&quot;</span>
</div><div class="line" data-line="331">
</div><div class="line" data-line="332">  <span data-highlight="comment" style="color: #7e8e91;"># The trace function is used for debugging. It prints the first</span>
</div><div class="line" data-line="333">  <span data-highlight="comment" style="color: #7e8e91;"># argument to stderr and evaluates to the second argument.</span>
</div><div class="line" data-line="334">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">trace</span></span> <span data-highlight="number" style="color: #ae81ff;">1</span> <span data-highlight="number" style="color: #ae81ff;">2</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="335">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; trace: 1</span>
</div><div class="line" data-line="336">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; 2</span>
</div><div class="line" data-line="337">
</div><div class="line" data-line="338">  <span data-highlight="comment" style="color: #7e8e91;"># You can write files into the Nix store. Although impure, this is</span>
</div><div class="line" data-line="339">  <span data-highlight="comment" style="color: #7e8e91;"># fairly safe because the file name is derived from the hash of</span>
</div><div class="line" data-line="340">  <span data-highlight="comment" style="color: #7e8e91;"># its contents. You can read files from anywhere. In this example,</span>
</div><div class="line" data-line="341">  <span data-highlight="comment" style="color: #7e8e91;"># we write a file into the store, and then read it back out.</span>
</div><div class="line" data-line="342">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="keyword" style="color: #66d9ef;">let</span> filename <span data-highlight="operator" style="color: #f92672;">=</span> <span data-highlight="function.call" style="color: #a6e22e;"><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">toFile</span></span></span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">foo.txt</span><span data-highlight="string" style="color: #e6db74;">&quot;</span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">hello!</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.delimiter" style="color: #e0e2ea;">;</span> <span data-highlight="keyword" style="color: #66d9ef;">in</span>
</div><div class="line" data-line="343">    <span data-highlight="punctuation.bracket" style="color: #fd971f;">[</span><span data-highlight="variable">filename</span> <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">readFile</span></span> <span data-highlight="variable">filename</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">]</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="344">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; [ &quot;/nix/store/ayh05aay2anx135prqp0cy34h891247x-foo.txt&quot; &quot;hello!&quot; ]</span>
</div><div class="line" data-line="345">
</div><div class="line" data-line="346">  <span data-highlight="comment" style="color: #7e8e91;"># We can also download files into the Nix store.</span>
</div><div class="line" data-line="347">  <span data-highlight="punctuation.bracket" style="color: #fd971f;">(</span><span data-highlight="variable"><span data-highlight="function.builtin" style="color: #819aff;">fetchurl</span></span> <span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="string" style="color: #e6db74;">https://example.com/package-1.2.3.tgz</span><span data-highlight="string" style="color: #e6db74;">&quot;</span><span data-highlight="punctuation.bracket" style="color: #fd971f;">)</span>
</div><div class="line" data-line="348">  <span data-highlight="comment" style="color: #7e8e91;">#=&gt; &quot;/nix/store/2drvlh8r57f19s9il42zg89rdr33m2rm-package-1.2.3.tgz&quot;</span>
</div><div class="line" data-line="349">
</div><div class="line" data-line="350"><span data-highlight="punctuation.bracket" style="color: #fd971f;">]</span>
</div></code></pre>